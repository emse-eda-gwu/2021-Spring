<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Cleaning Data</title>
    <meta charset="utf-8" />
    <meta name="author" content="John Paul Helveston" />
    <meta name="date" content="2021-03-10" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link href="libs/countdown/countdown.css" rel="stylesheet" />
    <script src="libs/countdown/countdown.js"></script>
    <link rel="stylesheet" href="css/lexis.css" type="text/css" />
    <link rel="stylesheet" href="css/lexis-fonts.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">




class: middle, inverse

.leftcol30[
&lt;center&gt;
&lt;img src="https://raw.githubusercontent.com/emse-eda-gwu/2021-Spring/master/images/eda_hex_sticker.png" width=250&gt;
&lt;/center&gt;
]

.rightcol70[
# Week 9: .fancy[Cleaning Data]

### &lt;svg style="height:0.8em;top:.04em;position:relative;fill:white;" viewBox="0 0 512 512"&gt;&lt;path d="M496 128v16a8 8 0 0 1-8 8h-24v12c0 6.627-5.373 12-12 12H60c-6.627 0-12-5.373-12-12v-12H24a8 8 0 0 1-8-8v-16a8 8 0 0 1 4.941-7.392l232-88a7.996 7.996 0 0 1 6.118 0l232 88A8 8 0 0 1 496 128zm-24 304H40c-13.255 0-24 10.745-24 24v16a8 8 0 0 0 8 8h464a8 8 0 0 0 8-8v-16c0-13.255-10.745-24-24-24zM96 192v192H60c-6.627 0-12 5.373-12 12v20h416v-20c0-6.627-5.373-12-12-12h-36V192h-64v192h-64V192h-64v192h-64V192H96z"/&gt;&lt;/svg&gt; EMSE 4575: Exploratory Data Analysis
### &lt;svg style="height:0.8em;top:.04em;position:relative;fill:white;" viewBox="0 0 448 512"&gt;&lt;path d="M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"/&gt;&lt;/svg&gt; John Paul Helveston
### &lt;svg style="height:0.8em;top:.04em;position:relative;fill:white;" viewBox="0 0 448 512"&gt;&lt;path d="M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"/&gt;&lt;/svg&gt; March 10, 2021
]


---
class: inverse

# Quiz 3

<div class="countdown" id="timer_6047a5cf" style="bottom:0;left:0;font-size:4em;" data-warnwhen="30">
<code class="countdown-time"><span class="countdown-digits minutes">10</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

.leftcol[
### Link is on the [schedule](https://eda.seas.gwu.edu/2021-Spring/schedule.html)
]

.rightcol[
&lt;center&gt;
&lt;img src="images/quiz_doge.png" width="400"&gt;
&lt;/center&gt;
]

---

# .center[Waffles and Animations]

--

.leftcol[
### .center[[Waffles](https://github.com/hrbrmstr/waffle)]

The bug:

```r
install.packages("waffle")
```

The fix:

```r
install.packages("waffle",
* repos = "https://cinc.rud.is")
```
]

--

.rightcol[
### .center[[Animation](https://github.com/thomasp85/gganimate/issues/431)]

The bug:

```r
animate(anim_plot)
```

The fix:

```r
install.packages('magick')

animate(anim_plot,
* renderer = magick_renderer())
```
]

---

class: center, middle, inverse

# .fancy[.blue[Tip of the week]]

## Copy-paste magic with [`datapasta`](https://milesmcbain.github.io/datapasta/)

&lt;br&gt;

### **Useful for "small data"**: e.g., [U.S. State Abbreviations](https://www.50states.com/abbreviations.htm)

---

## Today's data

"Clean" data

```r
wildlife_impacts &lt;- read_csv(here::here('data', 'wildlife_impacts.csv'))
milk_production  &lt;- read_csv(here::here('data', 'milk_production.csv'))
msleep           &lt;- read_csv(here::here('data', 'msleep.csv'))
```

"Messy" data

```r
wind     &lt;- read_excel(here::here('data', 'US_State_Wind_Energy_Facts_2018.xlsx'))
hot_dogs &lt;- read_excel(here::here('data', 'hot_dog_winners.xlsx'))
```

---

## Plus two new packages:


```r
# For manipulating dates
install.packages('lubridate')

# For cleaning column names
install.packages('janitor')
```

---



class: inverse, middle

# Week 9: .fancy[Cleaning Data]

### 1. Merging datasets with joins
### 2. Are your variables the right _type_?
### 3. Are your variables the right _name_?

### BREAK

### 4. Re-coding variables
### 5. Dates

---



class: inverse, middle

# Week 9: .fancy[Cleaning Data]

### 1. .orange[Merging datasets with joins]
### 2. Are your variables the right _type_?
### 3. Are your variables the right _name_?

### BREAK

### 4. Re-coding variables
### 5. Dates

---

## Joins

1. `inner_join()`
2. `left_join()` / `right_join()`
3. `full_join()`

--

&amp;zwj;Example: `band_members` &amp; `band_instruments`

.leftcol[

```r
band_members
```

```
#&gt; # A tibble: 3 x 2
#&gt;   name  band   
#&gt;   &lt;chr&gt; &lt;chr&gt;  
#&gt; 1 Mick  Stones 
#&gt; 2 John  Beatles
#&gt; 3 Paul  Beatles
```
]

.rightcol[

```r
band_instruments
```

```
#&gt; # A tibble: 3 x 2
#&gt;   name  plays 
#&gt;   &lt;chr&gt; &lt;chr&gt; 
#&gt; 1 John  guitar
#&gt; 2 Paul  bass  
#&gt; 3 Keith guitar
```
]

---

.leftcol[
## `inner_join()`


```r
band_members %&gt;%
    inner_join(band_instruments)
```

```
#&gt; # A tibble: 2 x 3
#&gt;   name  band    plays 
#&gt;   &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
#&gt; 1 John  Beatles guitar
#&gt; 2 Paul  Beatles bass
```
]

.rightcol[
&lt;br&gt;
&lt;center&gt;
&lt;img src="images/inner_join.gif"&gt;
&lt;/center&gt;
]

---

.leftcol[
## `full_join()`


```r
band_members %&gt;%
    full_join(band_instruments)
```

```
#&gt; # A tibble: 4 x 3
#&gt;   name  band    plays 
#&gt;   &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
#&gt; 1 Mick  Stones  &lt;NA&gt;  
#&gt; 2 John  Beatles guitar
#&gt; 3 Paul  Beatles bass  
#&gt; 4 Keith &lt;NA&gt;    guitar
```
]

.rightcol[
&lt;br&gt;
&lt;center&gt;
&lt;img src="images/full_join.gif"&gt;
&lt;/center&gt;
]

---

.leftcol[
## `left_join()`


```r
band_members %&gt;%
    left_join(band_instruments)
```

```
#&gt; # A tibble: 3 x 3
#&gt;   name  band    plays 
#&gt;   &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
#&gt; 1 Mick  Stones  &lt;NA&gt;  
#&gt; 2 John  Beatles guitar
#&gt; 3 Paul  Beatles bass
```
]

.rightcol[
&lt;br&gt;
&lt;center&gt;
&lt;img src="images/left_join.gif"&gt;
&lt;/center&gt;
]

---

.leftcol[
## `right_join()`


```r
band_members %&gt;%
    right_join(band_instruments)
```

```
#&gt; # A tibble: 3 x 3
#&gt;   name  band    plays 
#&gt;   &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
#&gt; 1 John  Beatles guitar
#&gt; 2 Paul  Beatles bass  
#&gt; 3 Keith &lt;NA&gt;    guitar
```
]

.rightcol[
&lt;br&gt;
&lt;center&gt;
&lt;img src="images/right_join.gif"&gt;
&lt;/center&gt;
]

---

## Specify the joining variable name

.leftcol[

```r
band_members %&gt;%
    left_join(band_instruments)
```

```
#&gt; Joining, by = "name"
```

```
#&gt; # A tibble: 3 x 3
#&gt;   name  band    plays 
#&gt;   &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
#&gt; 1 Mick  Stones  &lt;NA&gt;  
#&gt; 2 John  Beatles guitar
#&gt; 3 Paul  Beatles bass
```
]

.rightcol[

```r
band_members %&gt;%
    left_join(band_instruments,
*             by = 'name')
```

```
#&gt; # A tibble: 3 x 3
#&gt;   name  band    plays 
#&gt;   &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
#&gt; 1 Mick  Stones  &lt;NA&gt;  
#&gt; 2 John  Beatles guitar
#&gt; 3 Paul  Beatles bass
```
]

---

## Specify the joining variable name

If the names differ, use `by = c("left_name" = "joining_name")`

.leftcol[

```r
band_members
```

```
#&gt; # A tibble: 3 x 2
#&gt;   name  band   
#&gt;   &lt;chr&gt; &lt;chr&gt;  
#&gt; 1 Mick  Stones 
#&gt; 2 John  Beatles
#&gt; 3 Paul  Beatles
```

```r
band_instruments2
```

```
#&gt; # A tibble: 3 x 2
#&gt;   artist plays 
#&gt;   &lt;chr&gt;  &lt;chr&gt; 
#&gt; 1 John   guitar
#&gt; 2 Paul   bass  
#&gt; 3 Keith  guitar
```
]

--

.rightcol[

```r
band_members %&gt;%
    left_join(band_instruments2,
*             by = c("name" = "artist"))
```

```
#&gt; # A tibble: 3 x 3
#&gt;   name  band    plays 
#&gt;   &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; 
#&gt; 1 Mick  Stones  &lt;NA&gt;  
#&gt; 2 John  Beatles guitar
#&gt; 3 Paul  Beatles bass
```
]

---

## Specify the joining variable name

Or just rename the joining variable in a pipe

.leftcol[

```r
band_members
```

```
#&gt; # A tibble: 3 x 2
#&gt;   name  band   
#&gt;   &lt;chr&gt; &lt;chr&gt;  
#&gt; 1 Mick  Stones 
#&gt; 2 John  Beatles
#&gt; 3 Paul  Beatles
```

```r
band_instruments2
```

```
#&gt; # A tibble: 3 x 2
#&gt;   artist plays 
#&gt;   &lt;chr&gt;  &lt;chr&gt; 
#&gt; 1 John   guitar
#&gt; 2 Paul   bass  
#&gt; 3 Keith  guitar
```
]

.rightcol[

```r
band_members %&gt;%
*   rename(artist = name) %&gt;%
    left_join(band_instruments2,
*             by = "artist")
```

```
#&gt; # A tibble: 3 x 3
#&gt;   artist band    plays 
#&gt;   &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt; 
#&gt; 1 Mick   Stones  &lt;NA&gt;  
#&gt; 2 John   Beatles guitar
#&gt; 3 Paul   Beatles bass
```
]

---
class: inverse

<div class="countdown" id="timer_6047a5f9" style="top:0;right:0;font-size:2em;" data-warnwhen="30">
<code class="countdown-time"><span class="countdown-digits minutes">15</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

## Your turn

.leftcol[.font80[

1) Create a data frame called `state_data` by joining the data frames `states_abbs` and `milk_production` and then selecting the variables `region`, `state_name`, `state_abb`. **Hint**: Use the `distinct()` function to drop repeated rows.

Your result should look like this:

.code70[


```r
head(state_data)
```

```
#&gt; # A tibble: 6 x 3
#&gt;   region    state_name    state_abb
#&gt;   &lt;chr&gt;     &lt;chr&gt;         &lt;chr&gt;    
#&gt; 1 Northeast Maine         ME       
#&gt; 2 Northeast New Hampshire NH       
#&gt; 3 Northeast Vermont       VT       
#&gt; 4 Northeast Massachusetts MA       
#&gt; 5 Northeast Rhode Island  RI       
#&gt; 6 Northeast Connecticut   CT
```
]]]

--

.rightcol[.font80[
2) Join the `state_data` data frame to the `wildlife_impacts` data frame, adding the variables `region` and `state_name`


.code50[

```r
glimpse(wildlife_impacts)
```

```
#&gt; Rows: 56,978
#&gt; Columns: 24
#&gt; $ region                &lt;chr&gt; "Northeast", "Northeast", "Northeast", "Northeast", "Northeast", "Northeast", "Northeast", "Northeast", "Northeast", "Northeast", "Northeast", "Northeast", "Northeast", "Northeast", "Northeast", "Northeast", "Northeas…
#&gt; $ state_name            &lt;chr&gt; "Maine", "Maine", "Maine", "Maine", "Maine", "Maine", "Maine", "Maine", "Maine", "Maine", "Maine", "Maine", "Maine", "Maine", "Maine", "Maine", "Maine", "Maine", "Maine", "Maine", "Maine", "Maine", "Maine", "Maine", "…
#&gt; $ state_abb             &lt;chr&gt; "ME", "ME", "ME", "ME", "ME", "ME", "ME", "ME", "ME", "ME", "ME", "ME", "ME", "ME", "ME", "ME", "ME", "ME", "ME", "ME", "ME", "ME", "ME", "ME", "ME", "ME", "ME", "ME", "ME", "ME", "ME", "ME", "ME", "ME", "ME", "ME", "…
#&gt; $ incident_date         &lt;dttm&gt; 2018-10-23, 2018-10-07, 2018-10-05, 2018-10-05, 2017-07-25, 2016-11-07, 2016-11-07, 2016-10-29, 2016-07-30, 1990-08-01, 2018-11-06, 2018-07-29, 2018-05-05, 2017-04-04, 2016-04-28, 2012-05-20, 2011-10-23, 2003-09-07, …
#&gt; $ airport_id            &lt;chr&gt; "KPWM", "KPWM", "KPWM", "KPWM", "KPWM", "KPWM", "KPWM", "KPWM", "KPWM", "KPWM", "KPWM", "KPWM", "KPWM", "KPWM", "KPWM", "KPWM", "KPWM", "KPWM", "KPWM", "KPWM", "KPWM", "KBGR", "KPWM", "KBGR", "KPWM", "KPWM", "KPWM", "…
#&gt; $ airport               &lt;chr&gt; "PORTLAND INTL JETPORT (ME)", "PORTLAND INTL JETPORT (ME)", "PORTLAND INTL JETPORT (ME)", "PORTLAND INTL JETPORT (ME)", "PORTLAND INTL JETPORT (ME)", "PORTLAND INTL JETPORT (ME)", "PORTLAND INTL JETPORT (ME)", "PORTLA…
#&gt; $ operator              &lt;chr&gt; "AMERICAN AIRLINES", "AMERICAN AIRLINES", "AMERICAN AIRLINES", "AMERICAN AIRLINES", "AMERICAN AIRLINES", "AMERICAN AIRLINES", "AMERICAN AIRLINES", "AMERICAN AIRLINES", "AMERICAN AIRLINES", "AMERICAN AIRLINES", "DELTA …
#&gt; $ atype                 &lt;chr&gt; "A-320", "A-319", "A-319", "EMB-190", "EMB-170", "A-319", "A-319", "A-319", "CRJ100/200", "DHC8 DASH 8", "MD-90-30", "MD-90-30", "MD-90-30", "CRJ700", "MD-88", "MD-88", "MD-88", "MD-88", "MD-88", "MD-80", "MD-88", "MD…
#&gt; $ type_eng              &lt;chr&gt; "D", "D", "D", "D", "D", "D", "D", "D", "D", "C", "D", "D", "D", "D", "D", "D", "D", "D", "D", "D", "D", "D", "D", "D", "D", "D", "D", "D", "D", "D", "D", "D", "D", "D", "D", "D", "D", "D", "D", "D", "D", "D", "D", "D…
#&gt; $ species_id            &lt;chr&gt; "UNKBS", "ZX302", "ZS010", "I1102", "K3310", "YH004", "UNKB", "YL001", "UNKB", "NE1", "R2001", "YM1102", "NE101", "YL001", "UNKB", "NE1", "UNKB", "I1102", "UNKBS", "NE1", "NE101", "ZX202", "ZX3", "ZX202", "NE1", "UNKB…
#&gt; $ species               &lt;chr&gt; "Unknown bird - small", "Swamp sparrow", "Blackpoll warbler", "Great blue heron", "Sharp-shinned hawk", "Horned lark", "Unknown bird", "European starling", "Unknown bird", "Gulls", "Snowy owl", "American crow", "Herri…
#&gt; $ damage                &lt;chr&gt; "N", NA, "N", "M?", "N", "N", "N", "N", "N", "N", NA, "N", "N", NA, "N", NA, "N", NA, NA, "N", "M", "N", "N", "N", "N", "N", "N", "N", "N", "N", NA, "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N", "N"…
#&gt; $ num_engs              &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 2, 2, 3, 3, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2…
#&gt; $ incident_month        &lt;dbl&gt; 10, 10, 10, 10, 7, 11, 11, 10, 7, 8, 11, 7, 5, 4, 4, 5, 10, 9, 8, 6, 6, 11, 11, 11, 10, 5, 10, 8, 11, 9, 11, 10, 11, 11, 10, 10, 10, 9, 11, 7, 6, 6, 6, 6, 9, 8, 6, 5, 11, 7, 8, 9, 5, 5, 10, 2, 9, 8, 3, 3, 3, 11, 11, 1…
#&gt; $ incident_year         &lt;dbl&gt; 2018, 2018, 2018, 2018, 2017, 2016, 2016, 2016, 2016, 1990, 2018, 2018, 2018, 2017, 2016, 2012, 2011, 2003, 2002, 2000, 2000, 1995, 1995, 1995, 1995, 1995, 1994, 1994, 1993, 1993, 1992, 1990, 2018, 2018, 2018, 2018, 2…
#&gt; $ time_of_day           &lt;chr&gt; NA, "Night", "Night", "Day", "Dawn", "Day", "Day", "Day", "Day", "Day", "Dawn", "Day", "Day", NA, "Night", "Day", NA, "Night", "Day", "Day", "Day", "Day", "Day", "Dawn", "Day", "Day", "Night", "Day", "Day", "Night", "…
#&gt; $ time                  &lt;dbl&gt; 1310, 1035, 2200, 1645, 645, 1345, 1346, 1400, 1100, NA, 610, 1912, 613, 1145, 2041, 700, NA, 2035, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 1515, 1545, 1523, 1610, 1025, 2343, 1533, 1115, 1145, 1130, 1…
#&gt; $ height                &lt;dbl&gt; 15, NA, 1000, 0, 0, 0, 0, NA, NA, 2000, 0, 50, 0, 0, NA, 0, 0, 0, 0, 200, 0, 0, 10, 0, 0, 0, 2500, 0, 3, 200, 0, 0, 5, 20, 0, 10, 0, 800, 0, 50, 0, 0, NA, 1300, 2000, 30, 0, 1300, 2000, 1500, 500, NA, NA, NA, 0, 0, 0,…
#&gt; $ speed                 &lt;dbl&gt; 150, NA, 140, 110, NA, NA, NA, NA, NA, 250, 100, NA, 150, NA, NA, NA, NA, 130, 130, 135, NA, 85, 140, 150, NA, 125, 140, NA, 135, 120, 90, NA, 131, 140, NA, 155, NA, NA, NA, 140, NA, 100, NA, 150, 150, 140, NA, 150, 2…
#&gt; $ phase_of_flt          &lt;chr&gt; "departure", "arrival", "arrival", "arrival", "arrival", "arrival", "arrival", "arrival", "arrival", "departure", "departure", "departure", "departure", "arrival", "arrival", "departure", "arrival", "arrival", "depart…
#&gt; $ sky                   &lt;chr&gt; "Overcast", "Some Cloud", "Some Cloud", "Some Cloud", "Some Cloud", "No Cloud", NA, "Overcast", "Overcast", NA, "Overcast", "Some Cloud", "Some Cloud", "Overcast", NA, "No Cloud", NA, "Overcast", "Overcast", "Overcast…
#&gt; $ precip                &lt;chr&gt; "None", "None", "None", "None", "None", "None", NA, "Rain", "None", NA, "Rain", "None", "None", "Rain", NA, "None", NA, NA, "None", "None", "None", "None", "None", "None", "None", "None", "Rain", "None", "None", "None…
#&gt; $ cost_repairs_infl_adj &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 5400, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
#&gt; $ weekday_name          &lt;ord&gt; Tue, Sun, Fri, Fri, Tue, Mon, Mon, Sat, Sat, Wed, Tue, Sun, Sat, Tue, Thu, Sun, Sun, Sun, Fri, Tue, Tue, Tue, Mon, Sat, Tue, Mon, Sat, Tue, Thu, Sat, Tue, Fri, Fri, Sat, Tue, Sat, Wed, Tue, Thu, Thu, Sun, Sun, Sun, Fr…
```
]]]

---



class: inverse, middle

# Week 9: .fancy[Cleaning Data]

### 1. Merging datasets with joins
### 2. .orange[Are your variables the right _type_?]
### 3. Are your variables the right _name_?

### BREAK

### 4. Re-coding variables
### 5. Dates

---

## Using the `col_types` argument

- You can change the column type when reading in data
- Different syntax for [`readxl::read_excel()`](https://readxl.tidyverse.org/articles/cell-and-column-types.html) and [`readr::read_csv()`](https://readr.tidyverse.org/)

---

.leftcol35[
### `readxl::read_excel()`

`col_types` must be a vector describing each column type
]

.rightcol65[
&lt;br&gt;&lt;br&gt;

```r
wind &lt;- read_excel(here::here(
  'data', 'US_State_Wind_Energy_Facts_2018.xlsx'))

glimpse(wind)
```

```
#&gt; Rows: 50
#&gt; Columns: 7
#&gt; $ Ranking                         &lt;chr&gt; "1.0", "2.0", "3.0", "4.0", "5.0", "6.0", "7.0", "8.0", "9.0", "10.0", "11.0", "12.0", "13.0", "14.0", "15.0", "16.0", "17.0", "18.0", "19.0", "20.0", "21.0", "22.0", "23.0", "24.0", "25.0", "26.0", "27.0", …
#&gt; $ State                           &lt;chr&gt; "TEXAS", "OKLAHOMA", "IOWA", "CALIFORNIA", "KANSAS", "ILLINOIS", "MINNESOTA", "OREGON", "COLORADO", "WASHINGTON", "NORTH DAKOTA", "INDIANA", "MICHIGAN", "NEW YORK", "NEW MEXICO", "WYOMING", "NEBRASKA", "PENN…
#&gt; $ `Installed Capacity (MW)`       &lt;dbl&gt; 23262, 7495, 7312, 5686, 5110, 4464, 3699, 3213, 3106, 3075, 2996, 2117, 1904, 1829, 1682, 1489, 1445, 1369, 977, 973, 959, 923, 746, 720, 686, 617, 391, 268, 208, 206, 191, 185, 152, 149, 113, 62, 54, 29, 9…
#&gt; $ `Equivalent Homes Powered`      &lt;chr&gt; "6235000.0", "2268000.0", "1935000.0", "1298000.0", "1719000.0", "1050000.0", "1012000.0", "604600.0", "889100.0", "695300.0", "1021000.0", "440700.0", "471700.0", "366500.0", "422100.0", "408700.0", "486700…
#&gt; $ `Total Investment ($ Millions)` &lt;chr&gt; "42000.0", "13700.0", "14200.0", "12600.0", "9400.0", "8900.0", "7100.0", "6600.0", "6000.0", "6100.0", "5800.0", "4500.0", "3500.0", "3700.0", "2900.0", "3100.0", "2600.0", "2800.0", "2100.0", "2100.0", "18…
#&gt; $ `Wind Projects Online`          &lt;dbl&gt; 136, 45, 107, 104, 35, 49, 98, 31, 25, 20, 28, 16, 26, 27, 17, 22, 22, 24, 14, 15, 8, 18, 18, 16, 6, 37, 5, 5, 1, 7, 6, 5, 1, 9, 44, 19, 15, 2, 2, 2, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0
#&gt; $ `# of Wind Turbines`            &lt;chr&gt; "12750.0", "3717.0", "4145.0", "6972.0", "2795.0", "2632.0", "2428.0", "1868.0", "1949.0", "1725.0", "1611.0", "1203.0", "1051.0", "1052.0", "1005.0", "1005.0", "789.0", "726.0", "583.0", "541.0", "499.0", "…
```
]

---

.leftcol40[
### `readxl::read_excel()`

`col_types` must be a vector describing each column type

&lt;br&gt;

.font80[
| How it is in Excel | How it will be in R | How to request in `col_types` |
|:--------------------|:-----------------------|:--------------------|
| *anything*          | *non-existent*         | `"skip"`            |
| empty               | `logical`, but all `NA` | *you cannot request this* |
| boolean            | `logical`               | `"logical"`         |
| numeric            | `numeric`               | `"numeric"`         |
| datetime           | `POSIXct`               | `"date"`            |
| text               | `character`             | `"text"`            |
| *anything*         | `list`                  | `"list"`            |
]]

.rightcol60[

```r
columns &lt;- c('numeric', 'text', rep('numeric', 5))
columns
```

```
#&gt; [1] "numeric" "text"    "numeric" "numeric" "numeric" "numeric" "numeric"
```

```r
wind &lt;- read_excel(here::here(
  'data', 'US_State_Wind_Energy_Facts_2018.xlsx'),
* col_types = columns)

glimpse(wind)
```

```
#&gt; Rows: 50
#&gt; Columns: 7
#&gt; $ Ranking                         &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, NA, NA, NA, NA, NA, NA, NA, NA, NA
#&gt; $ State                           &lt;chr&gt; "TEXAS", "OKLAHOMA", "IOWA", "CALIFORNIA", "KANSAS", "ILLINOIS", "MINNESOTA", "OREGON", "COLORADO", "WASHINGTON", "NORTH DAKOTA", "INDIANA", "MICHIGAN", "NEW YORK", "NEW MEXICO", "WYOMING", "NEBRASKA", "PENN…
#&gt; $ `Installed Capacity (MW)`       &lt;dbl&gt; 23262, 7495, 7312, 5686, 5110, 4464, 3699, 3213, 3106, 3075, 2996, 2117, 1904, 1829, 1682, 1489, 1445, 1369, 977, 973, 959, 923, 746, 720, 686, 617, 391, 268, 208, 206, 191, 185, 152, 149, 113, 62, 54, 29, 9…
#&gt; $ `Equivalent Homes Powered`      &lt;dbl&gt; 6235000, 2268000, 1935000, 1298000, 1719000, 1050000, 1012000, 604600, 889100, 695300, 1021000, 440700, 471700, 366500, 422100, 408700, 486700, 314000, 293100, 228000, 181100, 206500, 142100, 199800, 149300,…
#&gt; $ `Total Investment ($ Millions)` &lt;dbl&gt; 42000, 13700, 14200, 12600, 9400, 8900, 7100, 6600, 6000, 6100, 5800, 4500, 3500, 3700, 2900, 3100, 2600, 2800, 2100, 2100, 1800, 1800, 1500, 1400, 1400, 1200, 851, 573, 330, 412, 397, 374, 306, 300, 236, 12…
#&gt; $ `Wind Projects Online`          &lt;dbl&gt; 136, 45, 107, 104, 35, 49, 98, 31, 25, 20, 28, 16, 26, 27, 17, 22, 22, 24, 14, 15, 8, 18, 18, 16, 6, 37, 5, 5, 1, 7, 6, 5, 1, 9, 44, 19, 15, 2, 2, 2, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0
#&gt; $ `# of Wind Turbines`            &lt;dbl&gt; 12750, 3717, 4145, 6972, 2795, 2632, 2428, 1868, 1949, 1725, 1611, 1203, 1051, 1052, 1005, 1005, 789, 726, 583, 541, 499, 386, 466, 493, 376, 336, 205, 144, 105, 119, 80, 75, 66, 71, 86, 104, 25, 18, 6, 3, 1…
```
]

---

### `readr::read_csv()`

`col_types` describes individual variables by name using `cols()`

.leftcol60[

```r
milk &lt;- read_csv(here::here(
  'data', 'milk_production.csv'),
* col_types = cols(year = col_character()))

glimpse(milk)
```

```
#&gt; Rows: 2,400
#&gt; Columns: 4
#&gt; $ region        &lt;chr&gt; "Northeast", "Northeast", "Northeast", "Northeast", "Northeast", "Northeast", "Northeast", "Northeast", "Northeast", "Northeast", "Northeast", "Lake States", "Lake States", "Lake States", "Corn Belt", "Corn Belt", "Corn Belt"…
#&gt; $ state         &lt;chr&gt; "Maine", "New Hampshire", "Vermont", "Massachusetts", "Rhode Island", "Connecticut", "New York", "New Jersey", "Pennsylvania", "Delaware", "Maryland", "Michigan", "Wisconsin", "Minnesota", "Ohio", "Indiana", "Illinois", "Iowa…
#&gt; $ year          &lt;chr&gt; "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "…
#&gt; $ milk_produced &lt;dbl&gt; 6.1900e+08, 3.5600e+08, 1.9700e+09, 6.5800e+08, 7.5000e+07, 6.6100e+08, 1.0341e+10, 7.3000e+08, 7.1240e+09, 1.3000e+08, 1.5600e+09, 4.6020e+09, 1.8435e+10, 9.6360e+09, 4.4200e+09, 2.3820e+09, 2.8500e+09, 4.6700e+09, 3.0120e+0…
```
]

---

### `readr::read_csv()`

`col_types` describes individual variables by name using `cols()`

&lt;br&gt;

&lt;center&gt;
&lt;img src="images/readr_parse_functions.png" width=800&gt;
&lt;/center&gt;

---

## Other option: Edit types **after** reading in the data

.leftcol[

```r
wind &lt;- read_excel(here::here(
  'data', 'US_State_Wind_Energy_Facts_2018.xlsx')) %&gt;%
  mutate(
*   Ranking = as.numeric(Ranking),
*   `Equivalent Homes Powered` = as.numeric(`Equivalent Homes Powered`),
*   `Total Investment ($ Millions)` = as.numeric(`Total Investment ($ Millions)`),
*   `# of Wind Turbines` = as.numeric(`# of Wind Turbines`))

glimpse(wind)
```

```
#&gt; Rows: 50
#&gt; Columns: 7
#&gt; $ Ranking                         &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, NA, NA, NA, NA, NA, NA, NA, NA, NA
#&gt; $ State                           &lt;chr&gt; "TEXAS", "OKLAHOMA", "IOWA", "CALIFORNIA", "KANSAS", "ILLINOIS", "MINNESOTA", "OREGON", "COLORADO", "WASHINGTON", "NORTH DAKOTA", "INDIANA", "MICHIGAN", "NEW YORK", "NEW MEXICO", "WYOMING", "NEBRASKA", "PENN…
#&gt; $ `Installed Capacity (MW)`       &lt;dbl&gt; 23262, 7495, 7312, 5686, 5110, 4464, 3699, 3213, 3106, 3075, 2996, 2117, 1904, 1829, 1682, 1489, 1445, 1369, 977, 973, 959, 923, 746, 720, 686, 617, 391, 268, 208, 206, 191, 185, 152, 149, 113, 62, 54, 29, 9…
#&gt; $ `Equivalent Homes Powered`      &lt;dbl&gt; 6235000, 2268000, 1935000, 1298000, 1719000, 1050000, 1012000, 604600, 889100, 695300, 1021000, 440700, 471700, 366500, 422100, 408700, 486700, 314000, 293100, 228000, 181100, 206500, 142100, 199800, 149300,…
#&gt; $ `Total Investment ($ Millions)` &lt;dbl&gt; 42000, 13700, 14200, 12600, 9400, 8900, 7100, 6600, 6000, 6100, 5800, 4500, 3500, 3700, 2900, 3100, 2600, 2800, 2100, 2100, 1800, 1800, 1500, 1400, 1400, 1200, 851, 573, 330, 412, 397, 374, 306, 300, 236, 12…
#&gt; $ `Wind Projects Online`          &lt;dbl&gt; 136, 45, 107, 104, 35, 49, 98, 31, 25, 20, 28, 16, 26, 27, 17, 22, 22, 24, 14, 15, 8, 18, 18, 16, 6, 37, 5, 5, 1, 7, 6, 5, 1, 9, 44, 19, 15, 2, 2, 2, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0
#&gt; $ `# of Wind Turbines`            &lt;dbl&gt; 12750, 3717, 4145, 6972, 2795, 2632, 2428, 1868, 1949, 1725, 1611, 1203, 1051, 1052, 1005, 1005, 789, 726, 583, 541, 499, 386, 466, 493, 376, 336, 205, 144, 105, 119, 80, 75, 66, 71, 86, 104, 25, 18, 6, 3, 1…
```
]

.rightcol[

```r
milk &lt;- read_csv(here::here(
  'data', 'milk_production.csv')) %&gt;%
* mutate(year = as.character(year))

glimpse(milk)
```

```
#&gt; Rows: 2,400
#&gt; Columns: 4
#&gt; $ region        &lt;chr&gt; "Northeast", "Northeast", "Northeast", "Northeast", "Northeast", "Northeast", "Northeast", "Northeast", "Northeast", "Northeast", "Northeast", "Lake States", "Lake States", "Lake States", "Corn Belt", "Corn Belt", "Corn Belt"…
#&gt; $ state         &lt;chr&gt; "Maine", "New Hampshire", "Vermont", "Massachusetts", "Rhode Island", "Connecticut", "New York", "New Jersey", "Pennsylvania", "Delaware", "Maryland", "Michigan", "Wisconsin", "Minnesota", "Ohio", "Indiana", "Illinois", "Iowa…
#&gt; $ year          &lt;chr&gt; "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "1970", "…
#&gt; $ milk_produced &lt;dbl&gt; 6.1900e+08, 3.5600e+08, 1.9700e+09, 6.5800e+08, 7.5000e+07, 6.6100e+08, 1.0341e+10, 7.3000e+08, 7.1240e+09, 1.3000e+08, 1.5600e+09, 4.6020e+09, 1.8435e+10, 9.6360e+09, 4.4200e+09, 2.3820e+09, 2.8500e+09, 4.6700e+09, 3.0120e+0…
```
]

---



class: inverse, middle

# Week 9: .fancy[Cleaning Data]

### 1. Merging datasets with joins
### 2. Are your variables the right _type_?
### 3. .orange[Are your variables the right _name_?]

### BREAK

### 4. Re-coding variables
### 5. Dates

&lt;!--
got the content on select() from Suzan Baert:
https://suzan.rbind.io/2018/01/dplyr-tutorial-1/
--&gt;

---

## Renaming made easy

.leftcol35[.noborder[.center[
`janitor::clean_names()`

&lt;center&gt;
&lt;img src="images/janitor_logo.png" width=200&gt;
&lt;/center&gt;
]]]

--

.rightcol65[

```r
wind &lt;- read_excel(here::here(
  'data', 'US_State_Wind_Energy_Facts_2018.xlsx'))

glimpse(wind)
```

```
#&gt; Rows: 50
#&gt; Columns: 7
#&gt; $ Ranking                         &lt;chr&gt; "1.0", "2.0", "3.0", "4.0", "5.0", "6.0", "7.0", "8.0", "9.0", "10.0", "11.0", "12.0", "13.0", "14.0", "15.0", "16.0", "17.0", "18.0", "19.0", "20.0", "21.0", "22.0", "23.0", "24.0", "25.0", "26.0", "27.0", …
#&gt; $ State                           &lt;chr&gt; "TEXAS", "OKLAHOMA", "IOWA", "CALIFORNIA", "KANSAS", "ILLINOIS", "MINNESOTA", "OREGON", "COLORADO", "WASHINGTON", "NORTH DAKOTA", "INDIANA", "MICHIGAN", "NEW YORK", "NEW MEXICO", "WYOMING", "NEBRASKA", "PENN…
#&gt; $ `Installed Capacity (MW)`       &lt;dbl&gt; 23262, 7495, 7312, 5686, 5110, 4464, 3699, 3213, 3106, 3075, 2996, 2117, 1904, 1829, 1682, 1489, 1445, 1369, 977, 973, 959, 923, 746, 720, 686, 617, 391, 268, 208, 206, 191, 185, 152, 149, 113, 62, 54, 29, 9…
#&gt; $ `Equivalent Homes Powered`      &lt;chr&gt; "6235000.0", "2268000.0", "1935000.0", "1298000.0", "1719000.0", "1050000.0", "1012000.0", "604600.0", "889100.0", "695300.0", "1021000.0", "440700.0", "471700.0", "366500.0", "422100.0", "408700.0", "486700…
#&gt; $ `Total Investment ($ Millions)` &lt;chr&gt; "42000.0", "13700.0", "14200.0", "12600.0", "9400.0", "8900.0", "7100.0", "6600.0", "6000.0", "6100.0", "5800.0", "4500.0", "3500.0", "3700.0", "2900.0", "3100.0", "2600.0", "2800.0", "2100.0", "2100.0", "18…
#&gt; $ `Wind Projects Online`          &lt;dbl&gt; 136, 45, 107, 104, 35, 49, 98, 31, 25, 20, 28, 16, 26, 27, 17, 22, 22, 24, 14, 15, 8, 18, 18, 16, 6, 37, 5, 5, 1, 7, 6, 5, 1, 9, 44, 19, 15, 2, 2, 2, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0
#&gt; $ `# of Wind Turbines`            &lt;chr&gt; "12750.0", "3717.0", "4145.0", "6972.0", "2795.0", "2632.0", "2428.0", "1868.0", "1949.0", "1725.0", "1611.0", "1203.0", "1051.0", "1052.0", "1005.0", "1005.0", "789.0", "726.0", "583.0", "541.0", "499.0", "…
```
]

---

## Renaming made easy

.leftcol35[.noborder[.center[
`janitor::clean_names()`

&lt;center&gt;
&lt;img src="images/janitor_logo.png" width=200&gt;
&lt;/center&gt;

]]]

.rightcol65[

```r
*library(janitor)

wind &lt;- read_excel(here::here(
  'data', 'US_State_Wind_Energy_Facts_2018.xlsx')) %&gt;%
* clean_names()

glimpse(wind)
```

```
#&gt; Rows: 50
#&gt; Columns: 7
#&gt; $ ranking                   &lt;chr&gt; "1.0", "2.0", "3.0", "4.0", "5.0", "6.0", "7.0", "8.0", "9.0", "10.0", "11.0", "12.0", "13.0", "14.0", "15.0", "16.0", "17.0", "18.0", "19.0", "20.0", "21.0", "22.0", "23.0", "24.0", "25.0", "26.0", "27.0", "28.0"…
#&gt; $ state                     &lt;chr&gt; "TEXAS", "OKLAHOMA", "IOWA", "CALIFORNIA", "KANSAS", "ILLINOIS", "MINNESOTA", "OREGON", "COLORADO", "WASHINGTON", "NORTH DAKOTA", "INDIANA", "MICHIGAN", "NEW YORK", "NEW MEXICO", "WYOMING", "NEBRASKA", "PENNSYLVAN…
#&gt; $ installed_capacity_mw     &lt;dbl&gt; 23262, 7495, 7312, 5686, 5110, 4464, 3699, 3213, 3106, 3075, 2996, 2117, 1904, 1829, 1682, 1489, 1445, 1369, 977, 973, 959, 923, 746, 720, 686, 617, 391, 268, 208, 206, 191, 185, 152, 149, 113, 62, 54, 29, 9, 5, 2…
#&gt; $ equivalent_homes_powered  &lt;chr&gt; "6235000.0", "2268000.0", "1935000.0", "1298000.0", "1719000.0", "1050000.0", "1012000.0", "604600.0", "889100.0", "695300.0", "1021000.0", "440700.0", "471700.0", "366500.0", "422100.0", "408700.0", "486700.0", "…
#&gt; $ total_investment_millions &lt;chr&gt; "42000.0", "13700.0", "14200.0", "12600.0", "9400.0", "8900.0", "7100.0", "6600.0", "6000.0", "6100.0", "5800.0", "4500.0", "3500.0", "3700.0", "2900.0", "3100.0", "2600.0", "2800.0", "2100.0", "2100.0", "1800.0",…
#&gt; $ wind_projects_online      &lt;dbl&gt; 136, 45, 107, 104, 35, 49, 98, 31, 25, 20, 28, 16, 26, 27, 17, 22, 22, 24, 14, 15, 8, 18, 18, 16, 6, 37, 5, 5, 1, 7, 6, 5, 1, 9, 44, 19, 15, 2, 2, 2, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0
#&gt; $ number_of_wind_turbines   &lt;chr&gt; "12750.0", "3717.0", "4145.0", "6972.0", "2795.0", "2632.0", "2428.0", "1868.0", "1949.0", "1725.0", "1611.0", "1203.0", "1051.0", "1052.0", "1005.0", "1005.0", "789.0", "726.0", "583.0", "541.0", "499.0", "386.0"…
```
]

---

## Renaming made easy

.leftcol35[.noborder[.center[
`janitor::clean_names()`

&lt;center&gt;
&lt;img src="images/janitor_logo.png" width=200&gt;
&lt;/center&gt;

]]]

.rightcol65[

```r
*library(janitor)

wind &lt;- read_excel(here::here(
  'data', 'US_State_Wind_Energy_Facts_2018.xlsx')) %&gt;%
* clean_names(case = 'lower_camel')

glimpse(wind)
```

```
#&gt; Rows: 50
#&gt; Columns: 7
#&gt; $ ranking                 &lt;chr&gt; "1.0", "2.0", "3.0", "4.0", "5.0", "6.0", "7.0", "8.0", "9.0", "10.0", "11.0", "12.0", "13.0", "14.0", "15.0", "16.0", "17.0", "18.0", "19.0", "20.0", "21.0", "22.0", "23.0", "24.0", "25.0", "26.0", "27.0", "28.0", …
#&gt; $ state                   &lt;chr&gt; "TEXAS", "OKLAHOMA", "IOWA", "CALIFORNIA", "KANSAS", "ILLINOIS", "MINNESOTA", "OREGON", "COLORADO", "WASHINGTON", "NORTH DAKOTA", "INDIANA", "MICHIGAN", "NEW YORK", "NEW MEXICO", "WYOMING", "NEBRASKA", "PENNSYLVANIA…
#&gt; $ installedCapacityMw     &lt;dbl&gt; 23262, 7495, 7312, 5686, 5110, 4464, 3699, 3213, 3106, 3075, 2996, 2117, 1904, 1829, 1682, 1489, 1445, 1369, 977, 973, 959, 923, 746, 720, 686, 617, 391, 268, 208, 206, 191, 185, 152, 149, 113, 62, 54, 29, 9, 5, 2, …
#&gt; $ equivalentHomesPowered  &lt;chr&gt; "6235000.0", "2268000.0", "1935000.0", "1298000.0", "1719000.0", "1050000.0", "1012000.0", "604600.0", "889100.0", "695300.0", "1021000.0", "440700.0", "471700.0", "366500.0", "422100.0", "408700.0", "486700.0", "31…
#&gt; $ totalInvestmentMillions &lt;chr&gt; "42000.0", "13700.0", "14200.0", "12600.0", "9400.0", "8900.0", "7100.0", "6600.0", "6000.0", "6100.0", "5800.0", "4500.0", "3500.0", "3700.0", "2900.0", "3100.0", "2600.0", "2800.0", "2100.0", "2100.0", "1800.0", "…
#&gt; $ windProjectsOnline      &lt;dbl&gt; 136, 45, 107, 104, 35, 49, 98, 31, 25, 20, 28, 16, 26, 27, 17, 22, 22, 24, 14, 15, 8, 18, 18, 16, 6, 37, 5, 5, 1, 7, 6, 5, 1, 9, 44, 19, 15, 2, 2, 2, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0
#&gt; $ numberOfWindTurbines    &lt;chr&gt; "12750.0", "3717.0", "4145.0", "6972.0", "2795.0", "2632.0", "2428.0", "1868.0", "1949.0", "1725.0", "1611.0", "1203.0", "1051.0", "1052.0", "1005.0", "1005.0", "789.0", "726.0", "583.0", "541.0", "499.0", "386.0", …
```
]

---

## Renaming made easy

.leftcol35[.noborder[.center[
`janitor::clean_names()`

&lt;center&gt;
&lt;img src="images/janitor_logo.png" width=200&gt;
&lt;/center&gt;

]]]

.rightcol65[

```r
*library(janitor)

wind &lt;- read_excel(here::here(
  'data', 'US_State_Wind_Energy_Facts_2018.xlsx')) %&gt;%
* clean_names(case = 'screaming_snake')

glimpse(wind)
```

```
#&gt; Rows: 50
#&gt; Columns: 7
#&gt; $ RANKING                   &lt;chr&gt; "1.0", "2.0", "3.0", "4.0", "5.0", "6.0", "7.0", "8.0", "9.0", "10.0", "11.0", "12.0", "13.0", "14.0", "15.0", "16.0", "17.0", "18.0", "19.0", "20.0", "21.0", "22.0", "23.0", "24.0", "25.0", "26.0", "27.0", "28.0"…
#&gt; $ STATE                     &lt;chr&gt; "TEXAS", "OKLAHOMA", "IOWA", "CALIFORNIA", "KANSAS", "ILLINOIS", "MINNESOTA", "OREGON", "COLORADO", "WASHINGTON", "NORTH DAKOTA", "INDIANA", "MICHIGAN", "NEW YORK", "NEW MEXICO", "WYOMING", "NEBRASKA", "PENNSYLVAN…
#&gt; $ INSTALLED_CAPACITY_MW     &lt;dbl&gt; 23262, 7495, 7312, 5686, 5110, 4464, 3699, 3213, 3106, 3075, 2996, 2117, 1904, 1829, 1682, 1489, 1445, 1369, 977, 973, 959, 923, 746, 720, 686, 617, 391, 268, 208, 206, 191, 185, 152, 149, 113, 62, 54, 29, 9, 5, 2…
#&gt; $ EQUIVALENT_HOMES_POWERED  &lt;chr&gt; "6235000.0", "2268000.0", "1935000.0", "1298000.0", "1719000.0", "1050000.0", "1012000.0", "604600.0", "889100.0", "695300.0", "1021000.0", "440700.0", "471700.0", "366500.0", "422100.0", "408700.0", "486700.0", "…
#&gt; $ TOTAL_INVESTMENT_MILLIONS &lt;chr&gt; "42000.0", "13700.0", "14200.0", "12600.0", "9400.0", "8900.0", "7100.0", "6600.0", "6000.0", "6100.0", "5800.0", "4500.0", "3500.0", "3700.0", "2900.0", "3100.0", "2600.0", "2800.0", "2100.0", "2100.0", "1800.0",…
#&gt; $ WIND_PROJECTS_ONLINE      &lt;dbl&gt; 136, 45, 107, 104, 35, 49, 98, 31, 25, 20, 28, 16, 26, 27, 17, 22, 22, 24, 14, 15, 8, 18, 18, 16, 6, 37, 5, 5, 1, 7, 6, 5, 1, 9, 44, 19, 15, 2, 2, 2, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0
#&gt; $ NUMBER_OF_WIND_TURBINES   &lt;chr&gt; "12750.0", "3717.0", "4145.0", "6972.0", "2795.0", "2632.0", "2428.0", "1868.0", "1949.0", "1725.0", "1611.0", "1203.0", "1051.0", "1052.0", "1005.0", "1005.0", "789.0", "726.0", "583.0", "541.0", "499.0", "386.0"…
```
]

---

### `select()`: more powerful than you probably thought

--

.leftcol60[.code70[
&amp;zwj;Example: data on sleeping patterns of different mammals

```r
glimpse(msleep)
```

```
#&gt; Rows: 83
#&gt; Columns: 11
#&gt; $ name         &lt;chr&gt; "Cheetah", "Owl monkey", "Mountain beaver", "Greater short-tailed shrew", "Cow", "Three-toed sloth", "Northern fur seal", "Vesper mouse", "Dog", "Roe deer", "Goat", "Guinea pig", "Grivet", "Chinchilla", "Star-nosed mole", "Afr…
#&gt; $ genus        &lt;chr&gt; "Acinonyx", "Aotus", "Aplodontia", "Blarina", "Bos", "Bradypus", "Callorhinus", "Calomys", "Canis", "Capreolus", "Capri", "Cavis", "Cercopithecus", "Chinchilla", "Condylura", "Cricetomys", "Cryptotis", "Dasypus", "Dendrohyrax"…
#&gt; $ vore         &lt;chr&gt; "carni", "omni", "herbi", "omni", "herbi", "herbi", "carni", NA, "carni", "herbi", "herbi", "herbi", "omni", "herbi", "omni", "omni", "omni", "carni", "herbi", "omni", "herbi", "insecti", "herbi", "herbi", "omni", "omni", "her…
#&gt; $ order        &lt;chr&gt; "Carnivora", "Primates", "Rodentia", "Soricomorpha", "Artiodactyla", "Pilosa", "Carnivora", "Rodentia", "Carnivora", "Artiodactyla", "Artiodactyla", "Rodentia", "Primates", "Rodentia", "Soricomorpha", "Rodentia", "Soricomorpha…
#&gt; $ conservation &lt;chr&gt; "lc", NA, "nt", "lc", "domesticated", NA, "vu", NA, "domesticated", "lc", "lc", "domesticated", "lc", "domesticated", "lc", NA, "lc", "lc", "lc", "lc", "en", "lc", "domesticated", "domesticated", "lc", "lc", NA, "domesticated"…
#&gt; $ sleep_total  &lt;dbl&gt; 12.1, 17.0, 14.4, 14.9, 4.0, 14.4, 8.7, 7.0, 10.1, 3.0, 5.3, 9.4, 10.0, 12.5, 10.3, 8.3, 9.1, 17.4, 5.3, 18.0, 3.9, 19.7, 2.9, 3.1, 10.1, 10.9, 14.9, 12.5, 9.8, 1.9, 2.7, 6.2, 6.3, 8.0, 9.5, 3.3, 19.4, 10.1, 14.2, 14.3, 12.8, …
#&gt; $ sleep_rem    &lt;dbl&gt; NA, 1.8, 2.4, 2.3, 0.7, 2.2, 1.4, NA, 2.9, NA, 0.6, 0.8, 0.7, 1.5, 2.2, 2.0, 1.4, 3.1, 0.5, 4.9, NA, 3.9, 0.6, 0.4, 3.5, 1.1, NA, 3.2, 1.1, 0.4, 0.1, 1.5, 0.6, 1.9, 0.9, NA, 6.6, 1.2, 1.9, 3.1, NA, 1.4, 2.0, NA, NA, 0.9, NA, 0…
#&gt; $ sleep_cycle  &lt;dbl&gt; NA, NA, NA, 0.1333333, 0.6666667, 0.7666667, 0.3833333, NA, 0.3333333, NA, NA, 0.2166667, NA, 0.1166667, NA, NA, 0.1500000, 0.3833333, NA, 0.3333333, NA, 0.1166667, 1.0000000, NA, 0.2833333, NA, NA, 0.4166667, 0.5500000, NA, N…
#&gt; $ awake        &lt;dbl&gt; 11.90, 7.00, 9.60, 9.10, 20.00, 9.60, 15.30, 17.00, 13.90, 21.00, 18.70, 14.60, 14.00, 11.50, 13.70, 15.70, 14.90, 6.60, 18.70, 6.00, 20.10, 4.30, 21.10, 20.90, 13.90, 13.10, 9.10, 11.50, 14.20, 22.10, 21.35, 17.80, 17.70, 16.…
#&gt; $ brainwt      &lt;dbl&gt; NA, 0.01550, NA, 0.00029, 0.42300, NA, NA, NA, 0.07000, 0.09820, 0.11500, 0.00550, NA, 0.00640, 0.00100, 0.00660, 0.00014, 0.01080, 0.01230, 0.00630, 4.60300, 0.00030, 0.65500, 0.41900, 0.00350, 0.11500, NA, 0.02560, 0.00500, …
#&gt; $ bodywt       &lt;dbl&gt; 50.000, 0.480, 1.350, 0.019, 600.000, 3.850, 20.490, 0.045, 14.000, 14.800, 33.500, 0.728, 4.750, 0.420, 0.060, 1.000, 0.005, 3.500, 2.950, 1.700, 2547.000, 0.023, 521.000, 187.000, 0.770, 10.000, 0.071, 3.300, 0.200, 899.995,…
```
]]

---

### `select()`: more powerful than you probably thought

.leftcol55[.code70[
Use `select()` to choose which columns to **keep**

```r
msleep %&gt;%
* select(name:order, sleep_total:sleep_cycle) %&gt;%
  glimpse()
```

```
#&gt; Rows: 83
#&gt; Columns: 7
#&gt; $ name        &lt;chr&gt; "Cheetah", "Owl monkey", "Mountain beaver", "Greater short-tailed shrew", "Cow", "Three-toed sloth", "Northern fur seal", "Vesper mouse", "Dog", "Roe deer", "Goat", "Guinea pig", "Grivet", "Chinchilla", "Star-nosed mole", "Afri…
#&gt; $ genus       &lt;chr&gt; "Acinonyx", "Aotus", "Aplodontia", "Blarina", "Bos", "Bradypus", "Callorhinus", "Calomys", "Canis", "Capreolus", "Capri", "Cavis", "Cercopithecus", "Chinchilla", "Condylura", "Cricetomys", "Cryptotis", "Dasypus", "Dendrohyrax",…
#&gt; $ vore        &lt;chr&gt; "carni", "omni", "herbi", "omni", "herbi", "herbi", "carni", NA, "carni", "herbi", "herbi", "herbi", "omni", "herbi", "omni", "omni", "omni", "carni", "herbi", "omni", "herbi", "insecti", "herbi", "herbi", "omni", "omni", "herb…
#&gt; $ order       &lt;chr&gt; "Carnivora", "Primates", "Rodentia", "Soricomorpha", "Artiodactyla", "Pilosa", "Carnivora", "Rodentia", "Carnivora", "Artiodactyla", "Artiodactyla", "Rodentia", "Primates", "Rodentia", "Soricomorpha", "Rodentia", "Soricomorpha"…
#&gt; $ sleep_total &lt;dbl&gt; 12.1, 17.0, 14.4, 14.9, 4.0, 14.4, 8.7, 7.0, 10.1, 3.0, 5.3, 9.4, 10.0, 12.5, 10.3, 8.3, 9.1, 17.4, 5.3, 18.0, 3.9, 19.7, 2.9, 3.1, 10.1, 10.9, 14.9, 12.5, 9.8, 1.9, 2.7, 6.2, 6.3, 8.0, 9.5, 3.3, 19.4, 10.1, 14.2, 14.3, 12.8, 1…
#&gt; $ sleep_rem   &lt;dbl&gt; NA, 1.8, 2.4, 2.3, 0.7, 2.2, 1.4, NA, 2.9, NA, 0.6, 0.8, 0.7, 1.5, 2.2, 2.0, 1.4, 3.1, 0.5, 4.9, NA, 3.9, 0.6, 0.4, 3.5, 1.1, NA, 3.2, 1.1, 0.4, 0.1, 1.5, 0.6, 1.9, 0.9, NA, 6.6, 1.2, 1.9, 3.1, NA, 1.4, 2.0, NA, NA, 0.9, NA, 0.…
#&gt; $ sleep_cycle &lt;dbl&gt; NA, NA, NA, 0.1333333, 0.6666667, 0.7666667, 0.3833333, NA, 0.3333333, NA, NA, 0.2166667, NA, 0.1166667, NA, NA, 0.1500000, 0.3833333, NA, 0.3333333, NA, 0.1166667, 1.0000000, NA, 0.2833333, NA, NA, 0.4166667, 0.5500000, NA, NA…
```
]]

--

.rightcol45[.code70[
Use `select()` to choose which columns to **drop**

```r
msleep %&gt;%
  select(-(name:order)) %&gt;%
  glimpse()
```

```
#&gt; Rows: 83
#&gt; Columns: 7
#&gt; $ conservation &lt;chr&gt; "lc", NA, "nt", "lc", "domesticated", NA, "vu", NA, "domesticated", "lc", "lc", "domesticated", "lc", "domesticated", "lc", NA, "lc", "lc", "lc", "lc", "en", "lc", "domesticated", "domesticated", "lc", "lc", NA, "domesticated"…
#&gt; $ sleep_total  &lt;dbl&gt; 12.1, 17.0, 14.4, 14.9, 4.0, 14.4, 8.7, 7.0, 10.1, 3.0, 5.3, 9.4, 10.0, 12.5, 10.3, 8.3, 9.1, 17.4, 5.3, 18.0, 3.9, 19.7, 2.9, 3.1, 10.1, 10.9, 14.9, 12.5, 9.8, 1.9, 2.7, 6.2, 6.3, 8.0, 9.5, 3.3, 19.4, 10.1, 14.2, 14.3, 12.8, …
#&gt; $ sleep_rem    &lt;dbl&gt; NA, 1.8, 2.4, 2.3, 0.7, 2.2, 1.4, NA, 2.9, NA, 0.6, 0.8, 0.7, 1.5, 2.2, 2.0, 1.4, 3.1, 0.5, 4.9, NA, 3.9, 0.6, 0.4, 3.5, 1.1, NA, 3.2, 1.1, 0.4, 0.1, 1.5, 0.6, 1.9, 0.9, NA, 6.6, 1.2, 1.9, 3.1, NA, 1.4, 2.0, NA, NA, 0.9, NA, 0…
#&gt; $ sleep_cycle  &lt;dbl&gt; NA, NA, NA, 0.1333333, 0.6666667, 0.7666667, 0.3833333, NA, 0.3333333, NA, NA, 0.2166667, NA, 0.1166667, NA, NA, 0.1500000, 0.3833333, NA, 0.3333333, NA, 0.1166667, 1.0000000, NA, 0.2833333, NA, NA, 0.4166667, 0.5500000, NA, N…
#&gt; $ awake        &lt;dbl&gt; 11.90, 7.00, 9.60, 9.10, 20.00, 9.60, 15.30, 17.00, 13.90, 21.00, 18.70, 14.60, 14.00, 11.50, 13.70, 15.70, 14.90, 6.60, 18.70, 6.00, 20.10, 4.30, 21.10, 20.90, 13.90, 13.10, 9.10, 11.50, 14.20, 22.10, 21.35, 17.80, 17.70, 16.…
#&gt; $ brainwt      &lt;dbl&gt; NA, 0.01550, NA, 0.00029, 0.42300, NA, NA, NA, 0.07000, 0.09820, 0.11500, 0.00550, NA, 0.00640, 0.00100, 0.00660, 0.00014, 0.01080, 0.01230, 0.00630, 4.60300, 0.00030, 0.65500, 0.41900, 0.00350, 0.11500, NA, 0.02560, 0.00500, …
#&gt; $ bodywt       &lt;dbl&gt; 50.000, 0.480, 1.350, 0.019, 600.000, 3.850, 20.490, 0.045, 14.000, 14.800, 33.500, 0.728, 4.750, 0.420, 0.060, 1.000, 0.005, 3.500, 2.950, 1.700, 2547.000, 0.023, 521.000, 187.000, 0.770, 10.000, 0.071, 3.300, 0.200, 899.995,…
```
]]

---

## Select columns based on **partial column names**

--

.leftcol[.code70[
Select columns that start with "sleep":

```r
msleep %&gt;%
  select(name, starts_with("sleep")) %&gt;%
  glimpse()
```

```
#&gt; Rows: 83
#&gt; Columns: 4
#&gt; $ name        &lt;chr&gt; "Cheetah", "Owl monkey", "Mountain beaver", "Greater short-tailed shrew", "Cow", "Three-toed sloth", "Northern fur seal", "Vesper mouse", "Dog", "Roe deer", "Goat", "Guinea pig", "Grivet", "Chinchilla", "Star-nosed mole", "Afri…
#&gt; $ sleep_total &lt;dbl&gt; 12.1, 17.0, 14.4, 14.9, 4.0, 14.4, 8.7, 7.0, 10.1, 3.0, 5.3, 9.4, 10.0, 12.5, 10.3, 8.3, 9.1, 17.4, 5.3, 18.0, 3.9, 19.7, 2.9, 3.1, 10.1, 10.9, 14.9, 12.5, 9.8, 1.9, 2.7, 6.2, 6.3, 8.0, 9.5, 3.3, 19.4, 10.1, 14.2, 14.3, 12.8, 1…
#&gt; $ sleep_rem   &lt;dbl&gt; NA, 1.8, 2.4, 2.3, 0.7, 2.2, 1.4, NA, 2.9, NA, 0.6, 0.8, 0.7, 1.5, 2.2, 2.0, 1.4, 3.1, 0.5, 4.9, NA, 3.9, 0.6, 0.4, 3.5, 1.1, NA, 3.2, 1.1, 0.4, 0.1, 1.5, 0.6, 1.9, 0.9, NA, 6.6, 1.2, 1.9, 3.1, NA, 1.4, 2.0, NA, NA, 0.9, NA, 0.…
#&gt; $ sleep_cycle &lt;dbl&gt; NA, NA, NA, 0.1333333, 0.6666667, 0.7666667, 0.3833333, NA, 0.3333333, NA, NA, 0.2166667, NA, 0.1166667, NA, NA, 0.1500000, 0.3833333, NA, 0.3333333, NA, 0.1166667, 1.0000000, NA, 0.2833333, NA, NA, 0.4166667, 0.5500000, NA, NA…
```
]]

--

.rightcol[.code70[
Select columns that contain "eep" and end with "wt":

```r
msleep %&gt;%
  select(contains("eep"), ends_with("wt")) %&gt;%
  glimpse()
```

```
#&gt; Rows: 83
#&gt; Columns: 5
#&gt; $ sleep_total &lt;dbl&gt; 12.1, 17.0, 14.4, 14.9, 4.0, 14.4, 8.7, 7.0, 10.1, 3.0, 5.3, 9.4, 10.0, 12.5, 10.3, 8.3, 9.1, 17.4, 5.3, 18.0, 3.9, 19.7, 2.9, 3.1, 10.1, 10.9, 14.9, 12.5, 9.8, 1.9, 2.7, 6.2, 6.3, 8.0, 9.5, 3.3, 19.4, 10.1, 14.2, 14.3, 12.8, 1…
#&gt; $ sleep_rem   &lt;dbl&gt; NA, 1.8, 2.4, 2.3, 0.7, 2.2, 1.4, NA, 2.9, NA, 0.6, 0.8, 0.7, 1.5, 2.2, 2.0, 1.4, 3.1, 0.5, 4.9, NA, 3.9, 0.6, 0.4, 3.5, 1.1, NA, 3.2, 1.1, 0.4, 0.1, 1.5, 0.6, 1.9, 0.9, NA, 6.6, 1.2, 1.9, 3.1, NA, 1.4, 2.0, NA, NA, 0.9, NA, 0.…
#&gt; $ sleep_cycle &lt;dbl&gt; NA, NA, NA, 0.1333333, 0.6666667, 0.7666667, 0.3833333, NA, 0.3333333, NA, NA, 0.2166667, NA, 0.1166667, NA, NA, 0.1500000, 0.3833333, NA, 0.3333333, NA, 0.1166667, 1.0000000, NA, 0.2833333, NA, NA, 0.4166667, 0.5500000, NA, NA…
#&gt; $ brainwt     &lt;dbl&gt; NA, 0.01550, NA, 0.00029, 0.42300, NA, NA, NA, 0.07000, 0.09820, 0.11500, 0.00550, NA, 0.00640, 0.00100, 0.00660, 0.00014, 0.01080, 0.01230, 0.00630, 4.60300, 0.00030, 0.65500, 0.41900, 0.00350, 0.11500, NA, 0.02560, 0.00500, N…
#&gt; $ bodywt      &lt;dbl&gt; 50.000, 0.480, 1.350, 0.019, 600.000, 3.850, 20.490, 0.045, 14.000, 14.800, 33.500, 0.728, 4.750, 0.420, 0.060, 1.000, 0.005, 3.500, 2.950, 1.700, 2547.000, 0.023, 521.000, 187.000, 0.770, 10.000, 0.071, 3.300, 0.200, 899.995, …
```
]]

---

## Select columns based on their **data type**

.leftcol[
Select only numeric columns:

```r
msleep %&gt;%
    select_if(is.numeric) %&gt;%
    glimpse()
```

```
#&gt; Rows: 83
#&gt; Columns: 6
#&gt; $ sleep_total &lt;dbl&gt; 12.1, 17.0, 14.4, 14.9, 4.0, 14.4, 8.7, 7.0, 10.1, 3.0, 5.3, 9.4, 10.0, 12.5, 10.3, 8.3, 9.1, 17.4, 5.3, 18.0, 3.9, 19.7, 2.9, 3.1, 10.1, 10.9, 14.9, 12.5, 9.8, 1.9, 2.7, 6.2, 6.3, 8.0, 9.5, 3.3, 19.4, 10.1, 14.2, 14.3, 12.8, 1…
#&gt; $ sleep_rem   &lt;dbl&gt; NA, 1.8, 2.4, 2.3, 0.7, 2.2, 1.4, NA, 2.9, NA, 0.6, 0.8, 0.7, 1.5, 2.2, 2.0, 1.4, 3.1, 0.5, 4.9, NA, 3.9, 0.6, 0.4, 3.5, 1.1, NA, 3.2, 1.1, 0.4, 0.1, 1.5, 0.6, 1.9, 0.9, NA, 6.6, 1.2, 1.9, 3.1, NA, 1.4, 2.0, NA, NA, 0.9, NA, 0.…
#&gt; $ sleep_cycle &lt;dbl&gt; NA, NA, NA, 0.1333333, 0.6666667, 0.7666667, 0.3833333, NA, 0.3333333, NA, NA, 0.2166667, NA, 0.1166667, NA, NA, 0.1500000, 0.3833333, NA, 0.3333333, NA, 0.1166667, 1.0000000, NA, 0.2833333, NA, NA, 0.4166667, 0.5500000, NA, NA…
#&gt; $ awake       &lt;dbl&gt; 11.90, 7.00, 9.60, 9.10, 20.00, 9.60, 15.30, 17.00, 13.90, 21.00, 18.70, 14.60, 14.00, 11.50, 13.70, 15.70, 14.90, 6.60, 18.70, 6.00, 20.10, 4.30, 21.10, 20.90, 13.90, 13.10, 9.10, 11.50, 14.20, 22.10, 21.35, 17.80, 17.70, 16.0…
#&gt; $ brainwt     &lt;dbl&gt; NA, 0.01550, NA, 0.00029, 0.42300, NA, NA, NA, 0.07000, 0.09820, 0.11500, 0.00550, NA, 0.00640, 0.00100, 0.00660, 0.00014, 0.01080, 0.01230, 0.00630, 4.60300, 0.00030, 0.65500, 0.41900, 0.00350, 0.11500, NA, 0.02560, 0.00500, N…
#&gt; $ bodywt      &lt;dbl&gt; 50.000, 0.480, 1.350, 0.019, 600.000, 3.850, 20.490, 0.045, 14.000, 14.800, 33.500, 0.728, 4.750, 0.420, 0.060, 1.000, 0.005, 3.500, 2.950, 1.700, 2547.000, 0.023, 521.000, 187.000, 0.770, 10.000, 0.071, 3.300, 0.200, 899.995, …
```
]

--

.rightcol[
Select only character columns:

```r
msleep %&gt;%
    select_if(is.character) %&gt;%
    glimpse()
```

```
#&gt; Rows: 83
#&gt; Columns: 5
#&gt; $ name         &lt;chr&gt; "Cheetah", "Owl monkey", "Mountain beaver", "Greater short-tailed shrew", "Cow", "Three-toed sloth", "Northern fur seal", "Vesper mouse", "Dog", "Roe deer", "Goat", "Guinea pig", "Grivet", "Chinchilla", "Star-nosed mole", "Afr…
#&gt; $ genus        &lt;chr&gt; "Acinonyx", "Aotus", "Aplodontia", "Blarina", "Bos", "Bradypus", "Callorhinus", "Calomys", "Canis", "Capreolus", "Capri", "Cavis", "Cercopithecus", "Chinchilla", "Condylura", "Cricetomys", "Cryptotis", "Dasypus", "Dendrohyrax"…
#&gt; $ vore         &lt;chr&gt; "carni", "omni", "herbi", "omni", "herbi", "herbi", "carni", NA, "carni", "herbi", "herbi", "herbi", "omni", "herbi", "omni", "omni", "omni", "carni", "herbi", "omni", "herbi", "insecti", "herbi", "herbi", "omni", "omni", "her…
#&gt; $ order        &lt;chr&gt; "Carnivora", "Primates", "Rodentia", "Soricomorpha", "Artiodactyla", "Pilosa", "Carnivora", "Rodentia", "Carnivora", "Artiodactyla", "Artiodactyla", "Rodentia", "Primates", "Rodentia", "Soricomorpha", "Rodentia", "Soricomorpha…
#&gt; $ conservation &lt;chr&gt; "lc", NA, "nt", "lc", "domesticated", NA, "vu", NA, "domesticated", "lc", "lc", "domesticated", "lc", "domesticated", "lc", NA, "lc", "lc", "lc", "lc", "en", "lc", "domesticated", "domesticated", "lc", "lc", NA, "domesticated"…
```
]

---

## Use `select()` to **reorder** variables

--

.leftcol45[.code70[

```r
msleep %&gt;%
    select(everything()) %&gt;%
    glimpse()
```

```
#&gt; Rows: 83
#&gt; Columns: 11
#&gt; $ name         &lt;chr&gt; "Cheetah", "Owl monkey", "Mountain beaver", "Greater short-tailed shrew", "Cow", "Three-toed sloth", "Northern fur seal", "Vesper mouse", "Dog", "Roe deer", "Goat", "Guinea pig", "Grivet", "Chinchilla", "Star-nosed mole", "Afr…
#&gt; $ genus        &lt;chr&gt; "Acinonyx", "Aotus", "Aplodontia", "Blarina", "Bos", "Bradypus", "Callorhinus", "Calomys", "Canis", "Capreolus", "Capri", "Cavis", "Cercopithecus", "Chinchilla", "Condylura", "Cricetomys", "Cryptotis", "Dasypus", "Dendrohyrax"…
#&gt; $ vore         &lt;chr&gt; "carni", "omni", "herbi", "omni", "herbi", "herbi", "carni", NA, "carni", "herbi", "herbi", "herbi", "omni", "herbi", "omni", "omni", "omni", "carni", "herbi", "omni", "herbi", "insecti", "herbi", "herbi", "omni", "omni", "her…
#&gt; $ order        &lt;chr&gt; "Carnivora", "Primates", "Rodentia", "Soricomorpha", "Artiodactyla", "Pilosa", "Carnivora", "Rodentia", "Carnivora", "Artiodactyla", "Artiodactyla", "Rodentia", "Primates", "Rodentia", "Soricomorpha", "Rodentia", "Soricomorpha…
#&gt; $ conservation &lt;chr&gt; "lc", NA, "nt", "lc", "domesticated", NA, "vu", NA, "domesticated", "lc", "lc", "domesticated", "lc", "domesticated", "lc", NA, "lc", "lc", "lc", "lc", "en", "lc", "domesticated", "domesticated", "lc", "lc", NA, "domesticated"…
#&gt; $ sleep_total  &lt;dbl&gt; 12.1, 17.0, 14.4, 14.9, 4.0, 14.4, 8.7, 7.0, 10.1, 3.0, 5.3, 9.4, 10.0, 12.5, 10.3, 8.3, 9.1, 17.4, 5.3, 18.0, 3.9, 19.7, 2.9, 3.1, 10.1, 10.9, 14.9, 12.5, 9.8, 1.9, 2.7, 6.2, 6.3, 8.0, 9.5, 3.3, 19.4, 10.1, 14.2, 14.3, 12.8, …
#&gt; $ sleep_rem    &lt;dbl&gt; NA, 1.8, 2.4, 2.3, 0.7, 2.2, 1.4, NA, 2.9, NA, 0.6, 0.8, 0.7, 1.5, 2.2, 2.0, 1.4, 3.1, 0.5, 4.9, NA, 3.9, 0.6, 0.4, 3.5, 1.1, NA, 3.2, 1.1, 0.4, 0.1, 1.5, 0.6, 1.9, 0.9, NA, 6.6, 1.2, 1.9, 3.1, NA, 1.4, 2.0, NA, NA, 0.9, NA, 0…
#&gt; $ sleep_cycle  &lt;dbl&gt; NA, NA, NA, 0.1333333, 0.6666667, 0.7666667, 0.3833333, NA, 0.3333333, NA, NA, 0.2166667, NA, 0.1166667, NA, NA, 0.1500000, 0.3833333, NA, 0.3333333, NA, 0.1166667, 1.0000000, NA, 0.2833333, NA, NA, 0.4166667, 0.5500000, NA, N…
#&gt; $ awake        &lt;dbl&gt; 11.90, 7.00, 9.60, 9.10, 20.00, 9.60, 15.30, 17.00, 13.90, 21.00, 18.70, 14.60, 14.00, 11.50, 13.70, 15.70, 14.90, 6.60, 18.70, 6.00, 20.10, 4.30, 21.10, 20.90, 13.90, 13.10, 9.10, 11.50, 14.20, 22.10, 21.35, 17.80, 17.70, 16.…
#&gt; $ brainwt      &lt;dbl&gt; NA, 0.01550, NA, 0.00029, 0.42300, NA, NA, NA, 0.07000, 0.09820, 0.11500, 0.00550, NA, 0.00640, 0.00100, 0.00660, 0.00014, 0.01080, 0.01230, 0.00630, 4.60300, 0.00030, 0.65500, 0.41900, 0.00350, 0.11500, NA, 0.02560, 0.00500, …
#&gt; $ bodywt       &lt;dbl&gt; 50.000, 0.480, 1.350, 0.019, 600.000, 3.850, 20.490, 0.045, 14.000, 14.800, 33.500, 0.728, 4.750, 0.420, 0.060, 1.000, 0.005, 3.500, 2.950, 1.700, 2547.000, 0.023, 521.000, 187.000, 0.770, 10.000, 0.071, 3.300, 0.200, 899.995,…
```
]]

--

.rightcol55[.code70[

```r
msleep %&gt;%
    select(conservation, awake, everything()) %&gt;%
    glimpse()
```

```
#&gt; Rows: 83
#&gt; Columns: 11
#&gt; $ conservation &lt;chr&gt; "lc", NA, "nt", "lc", "domesticated", NA, "vu", NA, "domesticated", "lc", "lc", "domesticated", "lc", "domesticated", "lc", NA, "lc", "lc", "lc", "lc", "en", "lc", "domesticated", "domesticated", "lc", "lc", NA, "domesticated"…
#&gt; $ awake        &lt;dbl&gt; 11.90, 7.00, 9.60, 9.10, 20.00, 9.60, 15.30, 17.00, 13.90, 21.00, 18.70, 14.60, 14.00, 11.50, 13.70, 15.70, 14.90, 6.60, 18.70, 6.00, 20.10, 4.30, 21.10, 20.90, 13.90, 13.10, 9.10, 11.50, 14.20, 22.10, 21.35, 17.80, 17.70, 16.…
#&gt; $ name         &lt;chr&gt; "Cheetah", "Owl monkey", "Mountain beaver", "Greater short-tailed shrew", "Cow", "Three-toed sloth", "Northern fur seal", "Vesper mouse", "Dog", "Roe deer", "Goat", "Guinea pig", "Grivet", "Chinchilla", "Star-nosed mole", "Afr…
#&gt; $ genus        &lt;chr&gt; "Acinonyx", "Aotus", "Aplodontia", "Blarina", "Bos", "Bradypus", "Callorhinus", "Calomys", "Canis", "Capreolus", "Capri", "Cavis", "Cercopithecus", "Chinchilla", "Condylura", "Cricetomys", "Cryptotis", "Dasypus", "Dendrohyrax"…
#&gt; $ vore         &lt;chr&gt; "carni", "omni", "herbi", "omni", "herbi", "herbi", "carni", NA, "carni", "herbi", "herbi", "herbi", "omni", "herbi", "omni", "omni", "omni", "carni", "herbi", "omni", "herbi", "insecti", "herbi", "herbi", "omni", "omni", "her…
#&gt; $ order        &lt;chr&gt; "Carnivora", "Primates", "Rodentia", "Soricomorpha", "Artiodactyla", "Pilosa", "Carnivora", "Rodentia", "Carnivora", "Artiodactyla", "Artiodactyla", "Rodentia", "Primates", "Rodentia", "Soricomorpha", "Rodentia", "Soricomorpha…
#&gt; $ sleep_total  &lt;dbl&gt; 12.1, 17.0, 14.4, 14.9, 4.0, 14.4, 8.7, 7.0, 10.1, 3.0, 5.3, 9.4, 10.0, 12.5, 10.3, 8.3, 9.1, 17.4, 5.3, 18.0, 3.9, 19.7, 2.9, 3.1, 10.1, 10.9, 14.9, 12.5, 9.8, 1.9, 2.7, 6.2, 6.3, 8.0, 9.5, 3.3, 19.4, 10.1, 14.2, 14.3, 12.8, …
#&gt; $ sleep_rem    &lt;dbl&gt; NA, 1.8, 2.4, 2.3, 0.7, 2.2, 1.4, NA, 2.9, NA, 0.6, 0.8, 0.7, 1.5, 2.2, 2.0, 1.4, 3.1, 0.5, 4.9, NA, 3.9, 0.6, 0.4, 3.5, 1.1, NA, 3.2, 1.1, 0.4, 0.1, 1.5, 0.6, 1.9, 0.9, NA, 6.6, 1.2, 1.9, 3.1, NA, 1.4, 2.0, NA, NA, 0.9, NA, 0…
#&gt; $ sleep_cycle  &lt;dbl&gt; NA, NA, NA, 0.1333333, 0.6666667, 0.7666667, 0.3833333, NA, 0.3333333, NA, NA, 0.2166667, NA, 0.1166667, NA, NA, 0.1500000, 0.3833333, NA, 0.3333333, NA, 0.1166667, 1.0000000, NA, 0.2833333, NA, NA, 0.4166667, 0.5500000, NA, N…
#&gt; $ brainwt      &lt;dbl&gt; NA, 0.01550, NA, 0.00029, 0.42300, NA, NA, NA, 0.07000, 0.09820, 0.11500, 0.00550, NA, 0.00640, 0.00100, 0.00660, 0.00014, 0.01080, 0.01230, 0.00630, 4.60300, 0.00030, 0.65500, 0.41900, 0.00350, 0.11500, NA, 0.02560, 0.00500, …
#&gt; $ bodywt       &lt;dbl&gt; 50.000, 0.480, 1.350, 0.019, 600.000, 3.850, 20.490, 0.045, 14.000, 14.800, 33.500, 0.728, 4.750, 0.420, 0.060, 1.000, 0.005, 3.500, 2.950, 1.700, 2547.000, 0.023, 521.000, 187.000, 0.770, 10.000, 0.071, 3.300, 0.200, 899.995,…
```
]]

---

## Use `select()` to **rename** variables

--

.leftcol[.code70[
Use `rename()` to just change the name

```r
msleep %&gt;%
* rename(
    animal = name,
    extinction_threat = conservation) %&gt;%
  glimpse()
```

```
#&gt; Rows: 83
#&gt; Columns: 11
#&gt; $ animal            &lt;chr&gt; "Cheetah", "Owl monkey", "Mountain beaver", "Greater short-tailed shrew", "Cow", "Three-toed sloth", "Northern fur seal", "Vesper mouse", "Dog", "Roe deer", "Goat", "Guinea pig", "Grivet", "Chinchilla", "Star-nosed mole",…
#&gt; $ genus             &lt;chr&gt; "Acinonyx", "Aotus", "Aplodontia", "Blarina", "Bos", "Bradypus", "Callorhinus", "Calomys", "Canis", "Capreolus", "Capri", "Cavis", "Cercopithecus", "Chinchilla", "Condylura", "Cricetomys", "Cryptotis", "Dasypus", "Dendroh…
#&gt; $ vore              &lt;chr&gt; "carni", "omni", "herbi", "omni", "herbi", "herbi", "carni", NA, "carni", "herbi", "herbi", "herbi", "omni", "herbi", "omni", "omni", "omni", "carni", "herbi", "omni", "herbi", "insecti", "herbi", "herbi", "omni", "omni",…
#&gt; $ order             &lt;chr&gt; "Carnivora", "Primates", "Rodentia", "Soricomorpha", "Artiodactyla", "Pilosa", "Carnivora", "Rodentia", "Carnivora", "Artiodactyla", "Artiodactyla", "Rodentia", "Primates", "Rodentia", "Soricomorpha", "Rodentia", "Soricom…
#&gt; $ extinction_threat &lt;chr&gt; "lc", NA, "nt", "lc", "domesticated", NA, "vu", NA, "domesticated", "lc", "lc", "domesticated", "lc", "domesticated", "lc", NA, "lc", "lc", "lc", "lc", "en", "lc", "domesticated", "domesticated", "lc", "lc", NA, "domestic…
#&gt; $ sleep_total       &lt;dbl&gt; 12.1, 17.0, 14.4, 14.9, 4.0, 14.4, 8.7, 7.0, 10.1, 3.0, 5.3, 9.4, 10.0, 12.5, 10.3, 8.3, 9.1, 17.4, 5.3, 18.0, 3.9, 19.7, 2.9, 3.1, 10.1, 10.9, 14.9, 12.5, 9.8, 1.9, 2.7, 6.2, 6.3, 8.0, 9.5, 3.3, 19.4, 10.1, 14.2, 14.3, 1…
#&gt; $ sleep_rem         &lt;dbl&gt; NA, 1.8, 2.4, 2.3, 0.7, 2.2, 1.4, NA, 2.9, NA, 0.6, 0.8, 0.7, 1.5, 2.2, 2.0, 1.4, 3.1, 0.5, 4.9, NA, 3.9, 0.6, 0.4, 3.5, 1.1, NA, 3.2, 1.1, 0.4, 0.1, 1.5, 0.6, 1.9, 0.9, NA, 6.6, 1.2, 1.9, 3.1, NA, 1.4, 2.0, NA, NA, 0.9, …
#&gt; $ sleep_cycle       &lt;dbl&gt; NA, NA, NA, 0.1333333, 0.6666667, 0.7666667, 0.3833333, NA, 0.3333333, NA, NA, 0.2166667, NA, 0.1166667, NA, NA, 0.1500000, 0.3833333, NA, 0.3333333, NA, 0.1166667, 1.0000000, NA, 0.2833333, NA, NA, 0.4166667, 0.5500000, …
#&gt; $ awake             &lt;dbl&gt; 11.90, 7.00, 9.60, 9.10, 20.00, 9.60, 15.30, 17.00, 13.90, 21.00, 18.70, 14.60, 14.00, 11.50, 13.70, 15.70, 14.90, 6.60, 18.70, 6.00, 20.10, 4.30, 21.10, 20.90, 13.90, 13.10, 9.10, 11.50, 14.20, 22.10, 21.35, 17.80, 17.70…
#&gt; $ brainwt           &lt;dbl&gt; NA, 0.01550, NA, 0.00029, 0.42300, NA, NA, NA, 0.07000, 0.09820, 0.11500, 0.00550, NA, 0.00640, 0.00100, 0.00660, 0.00014, 0.01080, 0.01230, 0.00630, 4.60300, 0.00030, 0.65500, 0.41900, 0.00350, 0.11500, NA, 0.02560, 0.00…
#&gt; $ bodywt            &lt;dbl&gt; 50.000, 0.480, 1.350, 0.019, 600.000, 3.850, 20.490, 0.045, 14.000, 14.800, 33.500, 0.728, 4.750, 0.420, 0.060, 1.000, 0.005, 3.500, 2.950, 1.700, 2547.000, 0.023, 521.000, 187.000, 0.770, 10.000, 0.071, 3.300, 0.200, 899…
```
]]

--

.rightcol[.code70[
Use `select()` to change the name **and drop everything else**

```r
msleep %&gt;%
* select(
    animal = name,
    extinction_threat = conservation) %&gt;%
  glimpse()
```

```
#&gt; Rows: 83
#&gt; Columns: 2
#&gt; $ animal            &lt;chr&gt; "Cheetah", "Owl monkey", "Mountain beaver", "Greater short-tailed shrew", "Cow", "Three-toed sloth", "Northern fur seal", "Vesper mouse", "Dog", "Roe deer", "Goat", "Guinea pig", "Grivet", "Chinchilla", "Star-nosed mole",…
#&gt; $ extinction_threat &lt;chr&gt; "lc", NA, "nt", "lc", "domesticated", NA, "vu", NA, "domesticated", "lc", "lc", "domesticated", "lc", "domesticated", "lc", NA, "lc", "lc", "lc", "lc", "en", "lc", "domesticated", "domesticated", "lc", "lc", NA, "domestic…
```
]]

---

## Use `select()` to **rename** variables

.leftcol[.code70[
Use `rename()` to just change the name

```r
msleep %&gt;%
* rename(
    animal = name,
    extinction_threat = conservation) %&gt;%
  glimpse()
```

```
#&gt; Rows: 83
#&gt; Columns: 11
#&gt; $ animal            &lt;chr&gt; "Cheetah", "Owl monkey", "Mountain beaver", "Greater short-tailed shrew", "Cow", "Three-toed sloth", "Northern fur seal", "Vesper mouse", "Dog", "Roe deer", "Goat", "Guinea pig", "Grivet", "Chinchilla", "Star-nosed mole",…
#&gt; $ genus             &lt;chr&gt; "Acinonyx", "Aotus", "Aplodontia", "Blarina", "Bos", "Bradypus", "Callorhinus", "Calomys", "Canis", "Capreolus", "Capri", "Cavis", "Cercopithecus", "Chinchilla", "Condylura", "Cricetomys", "Cryptotis", "Dasypus", "Dendroh…
#&gt; $ vore              &lt;chr&gt; "carni", "omni", "herbi", "omni", "herbi", "herbi", "carni", NA, "carni", "herbi", "herbi", "herbi", "omni", "herbi", "omni", "omni", "omni", "carni", "herbi", "omni", "herbi", "insecti", "herbi", "herbi", "omni", "omni",…
#&gt; $ order             &lt;chr&gt; "Carnivora", "Primates", "Rodentia", "Soricomorpha", "Artiodactyla", "Pilosa", "Carnivora", "Rodentia", "Carnivora", "Artiodactyla", "Artiodactyla", "Rodentia", "Primates", "Rodentia", "Soricomorpha", "Rodentia", "Soricom…
#&gt; $ extinction_threat &lt;chr&gt; "lc", NA, "nt", "lc", "domesticated", NA, "vu", NA, "domesticated", "lc", "lc", "domesticated", "lc", "domesticated", "lc", NA, "lc", "lc", "lc", "lc", "en", "lc", "domesticated", "domesticated", "lc", "lc", NA, "domestic…
#&gt; $ sleep_total       &lt;dbl&gt; 12.1, 17.0, 14.4, 14.9, 4.0, 14.4, 8.7, 7.0, 10.1, 3.0, 5.3, 9.4, 10.0, 12.5, 10.3, 8.3, 9.1, 17.4, 5.3, 18.0, 3.9, 19.7, 2.9, 3.1, 10.1, 10.9, 14.9, 12.5, 9.8, 1.9, 2.7, 6.2, 6.3, 8.0, 9.5, 3.3, 19.4, 10.1, 14.2, 14.3, 1…
#&gt; $ sleep_rem         &lt;dbl&gt; NA, 1.8, 2.4, 2.3, 0.7, 2.2, 1.4, NA, 2.9, NA, 0.6, 0.8, 0.7, 1.5, 2.2, 2.0, 1.4, 3.1, 0.5, 4.9, NA, 3.9, 0.6, 0.4, 3.5, 1.1, NA, 3.2, 1.1, 0.4, 0.1, 1.5, 0.6, 1.9, 0.9, NA, 6.6, 1.2, 1.9, 3.1, NA, 1.4, 2.0, NA, NA, 0.9, …
#&gt; $ sleep_cycle       &lt;dbl&gt; NA, NA, NA, 0.1333333, 0.6666667, 0.7666667, 0.3833333, NA, 0.3333333, NA, NA, 0.2166667, NA, 0.1166667, NA, NA, 0.1500000, 0.3833333, NA, 0.3333333, NA, 0.1166667, 1.0000000, NA, 0.2833333, NA, NA, 0.4166667, 0.5500000, …
#&gt; $ awake             &lt;dbl&gt; 11.90, 7.00, 9.60, 9.10, 20.00, 9.60, 15.30, 17.00, 13.90, 21.00, 18.70, 14.60, 14.00, 11.50, 13.70, 15.70, 14.90, 6.60, 18.70, 6.00, 20.10, 4.30, 21.10, 20.90, 13.90, 13.10, 9.10, 11.50, 14.20, 22.10, 21.35, 17.80, 17.70…
#&gt; $ brainwt           &lt;dbl&gt; NA, 0.01550, NA, 0.00029, 0.42300, NA, NA, NA, 0.07000, 0.09820, 0.11500, 0.00550, NA, 0.00640, 0.00100, 0.00660, 0.00014, 0.01080, 0.01230, 0.00630, 4.60300, 0.00030, 0.65500, 0.41900, 0.00350, 0.11500, NA, 0.02560, 0.00…
#&gt; $ bodywt            &lt;dbl&gt; 50.000, 0.480, 1.350, 0.019, 600.000, 3.850, 20.490, 0.045, 14.000, 14.800, 33.500, 0.728, 4.750, 0.420, 0.060, 1.000, 0.005, 3.500, 2.950, 1.700, 2547.000, 0.023, 521.000, 187.000, 0.770, 10.000, 0.071, 3.300, 0.200, 899…
```
]]

.rightcol[.code70[
Use `select()` + `everything()` to change names **and keep everything else**

```r
msleep %&gt;%
* select(
    animal = name,
    extinction_threat = conservation,
*   everything()) %&gt;%
  glimpse()
```

```
#&gt; Rows: 83
#&gt; Columns: 11
#&gt; $ animal            &lt;chr&gt; "Cheetah", "Owl monkey", "Mountain beaver", "Greater short-tailed shrew", "Cow", "Three-toed sloth", "Northern fur seal", "Vesper mouse", "Dog", "Roe deer", "Goat", "Guinea pig", "Grivet", "Chinchilla", "Star-nosed mole",…
#&gt; $ extinction_threat &lt;chr&gt; "lc", NA, "nt", "lc", "domesticated", NA, "vu", NA, "domesticated", "lc", "lc", "domesticated", "lc", "domesticated", "lc", NA, "lc", "lc", "lc", "lc", "en", "lc", "domesticated", "domesticated", "lc", "lc", NA, "domestic…
#&gt; $ genus             &lt;chr&gt; "Acinonyx", "Aotus", "Aplodontia", "Blarina", "Bos", "Bradypus", "Callorhinus", "Calomys", "Canis", "Capreolus", "Capri", "Cavis", "Cercopithecus", "Chinchilla", "Condylura", "Cricetomys", "Cryptotis", "Dasypus", "Dendroh…
#&gt; $ vore              &lt;chr&gt; "carni", "omni", "herbi", "omni", "herbi", "herbi", "carni", NA, "carni", "herbi", "herbi", "herbi", "omni", "herbi", "omni", "omni", "omni", "carni", "herbi", "omni", "herbi", "insecti", "herbi", "herbi", "omni", "omni",…
#&gt; $ order             &lt;chr&gt; "Carnivora", "Primates", "Rodentia", "Soricomorpha", "Artiodactyla", "Pilosa", "Carnivora", "Rodentia", "Carnivora", "Artiodactyla", "Artiodactyla", "Rodentia", "Primates", "Rodentia", "Soricomorpha", "Rodentia", "Soricom…
#&gt; $ sleep_total       &lt;dbl&gt; 12.1, 17.0, 14.4, 14.9, 4.0, 14.4, 8.7, 7.0, 10.1, 3.0, 5.3, 9.4, 10.0, 12.5, 10.3, 8.3, 9.1, 17.4, 5.3, 18.0, 3.9, 19.7, 2.9, 3.1, 10.1, 10.9, 14.9, 12.5, 9.8, 1.9, 2.7, 6.2, 6.3, 8.0, 9.5, 3.3, 19.4, 10.1, 14.2, 14.3, 1…
#&gt; $ sleep_rem         &lt;dbl&gt; NA, 1.8, 2.4, 2.3, 0.7, 2.2, 1.4, NA, 2.9, NA, 0.6, 0.8, 0.7, 1.5, 2.2, 2.0, 1.4, 3.1, 0.5, 4.9, NA, 3.9, 0.6, 0.4, 3.5, 1.1, NA, 3.2, 1.1, 0.4, 0.1, 1.5, 0.6, 1.9, 0.9, NA, 6.6, 1.2, 1.9, 3.1, NA, 1.4, 2.0, NA, NA, 0.9, …
#&gt; $ sleep_cycle       &lt;dbl&gt; NA, NA, NA, 0.1333333, 0.6666667, 0.7666667, 0.3833333, NA, 0.3333333, NA, NA, 0.2166667, NA, 0.1166667, NA, NA, 0.1500000, 0.3833333, NA, 0.3333333, NA, 0.1166667, 1.0000000, NA, 0.2833333, NA, NA, 0.4166667, 0.5500000, …
#&gt; $ awake             &lt;dbl&gt; 11.90, 7.00, 9.60, 9.10, 20.00, 9.60, 15.30, 17.00, 13.90, 21.00, 18.70, 14.60, 14.00, 11.50, 13.70, 15.70, 14.90, 6.60, 18.70, 6.00, 20.10, 4.30, 21.10, 20.90, 13.90, 13.10, 9.10, 11.50, 14.20, 22.10, 21.35, 17.80, 17.70…
#&gt; $ brainwt           &lt;dbl&gt; NA, 0.01550, NA, 0.00029, 0.42300, NA, NA, NA, 0.07000, 0.09820, 0.11500, 0.00550, NA, 0.00640, 0.00100, 0.00660, 0.00014, 0.01080, 0.01230, 0.00630, 4.60300, 0.00030, 0.65500, 0.41900, 0.00350, 0.11500, NA, 0.02560, 0.00…
#&gt; $ bodywt            &lt;dbl&gt; 50.000, 0.480, 1.350, 0.019, 600.000, 3.850, 20.490, 0.045, 14.000, 14.800, 33.500, 0.728, 4.750, 0.420, 0.060, 1.000, 0.005, 3.500, 2.950, 1.700, 2547.000, 0.023, 521.000, 187.000, 0.770, 10.000, 0.071, 3.300, 0.200, 899…
```
]]

---

class: inverse

<div class="countdown" id="timer_6047a4d1" style="bottom:0;left:8;font-size:2em;" data-warnwhen="30">
<code class="countdown-time"><span class="countdown-digits minutes">15</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

.leftcol40[
## Your turn

Read in the `hot_dog_winners.xlsx` file and adjust the variable names and types to the following:


```
#&gt; Rows: 42
#&gt; Columns: 7
#&gt; $ year              &lt;dbl&gt; 1980, 1981, 1982, 1983, 1984, 1985, 1986, 1987, 1988, 1989, 1990, 1991, 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016,…
#&gt; $ competitor.mens   &lt;chr&gt; "Paul Siederman &amp; Joe Baldini", "Thomas DeBerry", "Steven Abrams", "Luis Llamas", "Birgit Felden", "Oscar Rodriguez", "Mark Heller", "Don Wolfman", "Jay Green", "Jay Green", "Mike DeVito", "Frank Dellarosa", "Frank Dellar…
#&gt; $ competitor.womens &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, "Sonya Thomas", "Sonya Thomas", "Sonya Thomas", "Miki Sudo", "Miki Sudo", "Miki Sudo", "Miki Sudo…
#&gt; $ dogs_eaten.mens   &lt;dbl&gt; 9.10, 11.00, 11.00, 19.50, 9.50, 11.75, 15.50, 12.00, 14.00, 13.00, 16.00, NA, 19.00, 17.00, 20.00, 19.50, NA, NA, 19.00, 20.25, NA, NA, NA, 44.50, NA, 49.00, NA, NA, 59.00, NA, 54.00, 62.00, 68.00, NA, 61.00, 62.00, NA, …
#&gt; $ dogs_eaten.womens &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, 36.75, 34.00, 38.00, 38.50, 41.00, 37.00, 31.00, NA, NA
#&gt; $ country.mens      &lt;chr&gt; "United States", "United States", "United States", "Mexico", "Germany", "United States", "United States", "United States", "United States", "United States", "United States", "United States", "United States", "United State…
#&gt; $ country.womens    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, "United States", "United States", "United States", "United States", "United States", "United Stat…
```
]

.rightcol60[
&lt;center&gt;
&lt;img src="images/hot_dogs.png" width=500&gt;
&lt;/center&gt;
]

---
class: inverse, center

<div class="countdown" id="timer_6047a726" style="top:1;right:0;bottom:0;left:0;margin:5%;font-size:8em;" data-warnwhen="30">
<code class="countdown-time"><span class="countdown-digits minutes">05</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

# Break!

## Stand up, Move around, Stretch!

---



class: inverse, middle

# Week 9: .fancy[Cleaning Data]

### 1. Merging datasets with joins
### 2. Are your variables the right _type_?
### 3. Are your variables the right _name_?

### BREAK

### 4. .orange[Re-coding variables]
### 5. Dates

---

# Recoding with `ifelse()`

.leftcol35[
Example: Create a variable, `cost_high`, that is `TRUE` if the repair costs were greater than the median costs and `FALSE` otherwise.
]

.rightcol65[.code70[

```r
wildlife_impacts1 &lt;- wildlife_impacts %&gt;%
  rename(cost = cost_repairs_infl_adj) %&gt;%
  filter(!is.na(cost)) %&gt;%
  mutate(
    cost_median = median(cost),
*   cost_high = ifelse(cost &gt; cost_median, TRUE, FALSE))

wildlife_impacts1 %&gt;%
  select(cost, cost_median, cost_high) %&gt;%
  head()
```

```
#&gt; # A tibble: 6 x 3
#&gt;     cost cost_median cost_high
#&gt;    &lt;dbl&gt;       &lt;dbl&gt; &lt;lgl&gt;    
#&gt; 1   1000       26783 FALSE    
#&gt; 2    200       26783 FALSE    
#&gt; 3  10000       26783 FALSE    
#&gt; 4 100000       26783 TRUE     
#&gt; 5  20000       26783 FALSE    
#&gt; 6 487000       26783 TRUE
```
]]

---

## Recoding with **nested** `ifelse()`

.leftcol35[
Create a variable, `season`, based on the `incident_month` variable.
]

.rightcol65[.code70[

```r
wildlife_impacts2 &lt;- wildlife_impacts %&gt;%
* mutate(season = ifelse(
*   incident_month %in% c(3, 4, 5), 'spring', ifelse(
*   incident_month %in% c(6, 7, 8), 'summer', ifelse(
*   incident_month %in% c(9, 10, 11), 'fall', 'winter')))
* )

wildlife_impacts2 %&gt;%
  distinct(incident_month, season) %&gt;%
  head()
```

```
#&gt; # A tibble: 6 x 2
#&gt;   incident_month season
#&gt;            &lt;dbl&gt; &lt;chr&gt; 
#&gt; 1             12 winter
#&gt; 2             11 fall  
#&gt; 3             10 fall  
#&gt; 4              9 fall  
#&gt; 5              8 summer
#&gt; 6              7 summer
```
]]

---

## Recoding with `case_when()`

.leftcol35[
Create a variable, `season`, based on the `incident_month` variable.

**Note**: If you don't include the final `TRUE ~ 'winter'` condition, you'll get `NA` for those cases.
]

.rightcol65[.code70[

```r
wildlife_impacts2 &lt;- wildlife_impacts %&gt;%
* mutate(season = case_when(
*   incident_month %in% c(3, 4, 5) ~ 'spring',
*   incident_month %in% c(6, 7, 8) ~ 'summer',
*   incident_month %in% c(9, 10, 11) ~ 'fall',
*   TRUE ~ 'winter')
* )

wildlife_impacts2 %&gt;%
  distinct(incident_month, season) %&gt;%
  head()
```

```
#&gt; # A tibble: 6 x 2
#&gt;   incident_month season
#&gt;            &lt;dbl&gt; &lt;chr&gt; 
#&gt; 1             12 winter
#&gt; 2             11 fall  
#&gt; 3             10 fall  
#&gt; 4              9 fall  
#&gt; 5              8 summer
#&gt; 6              7 summer
```
]]

---

## Recoding with `case_when()` with `between()`

.leftcol35[
Create a variable, `season`, based on the `incident_month` variable.
]

.rightcol65[.code70[

```r
wildlife_impacts2 &lt;- wildlife_impacts %&gt;%
  mutate(season = case_when(
*   between(incident_month, 3, 5) ~ 'spring',
*   between(incident_month, 6, 8) ~ 'summer',
*   between(incident_month, 9, 11) ~ 'fall',
    TRUE ~ 'winter')
  )

wildlife_impacts2 %&gt;%
    distinct(incident_month, season) %&gt;%
    head()
```

```
#&gt; # A tibble: 6 x 2
#&gt;   incident_month season
#&gt;            &lt;dbl&gt; &lt;chr&gt; 
#&gt; 1             12 winter
#&gt; 2             11 fall  
#&gt; 3             10 fall  
#&gt; 4              9 fall  
#&gt; 5              8 summer
#&gt; 6              7 summer
```
]]

---

## `case_when()` is "cleaner" than `ifelse()`

--

Convert the `num_engs` variable into a word of the number.

.leftcol55[.code70[
`ifelse()`

```r
wildlife_impacts3 &lt;- wildlife_impacts %&gt;%
  mutate(num_engs = ifelse(
    num_engs == 1, 'one', ifelse(
    num_engs == 2, 'two', ifelse(
    num_engs == 3, 'three', ifelse(
    num_engs == 4, 'four',
    as.character(num_engs)))))
  )

unique(wildlife_impacts3$num_engs)
```

```
#&gt; [1] "two"   NA      "three" "four"  "one"
```
]]

--

.rightcol45[.code70[
`case_when()`


```r
wildlife_impacts3 &lt;- wildlife_impacts %&gt;%
  mutate(num_engs = case_when(
    num_engs == 1 ~ 'one',
    num_engs == 2 ~ 'two',
    num_engs == 3 ~ 'three',
    num_engs == 4 ~ 'four')
  )

unique(wildlife_impacts3$num_engs)
```

```
#&gt; [1] "two"   NA      "three" "four"  "one"
```
]]

---

## Break a single variable into two with `separate()`

.leftcol40[

```r
tb_rates
```

```
#&gt; # A tibble: 6 x 3
#&gt;   country      year rate             
#&gt; * &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;            
#&gt; 1 Afghanistan  1999 745/19987071     
#&gt; 2 Afghanistan  2000 2666/20595360    
#&gt; 3 Brazil       1999 37737/172006362  
#&gt; 4 Brazil       2000 80488/174504898  
#&gt; 5 China        1999 212258/1272915272
#&gt; 6 China        2000 213766/1280428583
```
]

--

.rightcol60[

```r
tb_rates %&gt;%
* separate(rate, into = c("cases", "population"))
```

```
#&gt; # A tibble: 6 x 4
#&gt;   country      year cases  population
#&gt;   &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;  &lt;chr&gt;     
#&gt; 1 Afghanistan  1999 745    19987071  
#&gt; 2 Afghanistan  2000 2666   20595360  
#&gt; 3 Brazil       1999 37737  172006362 
#&gt; 4 Brazil       2000 80488  174504898 
#&gt; 5 China        1999 212258 1272915272
#&gt; 6 China        2000 213766 1280428583
```
]

---

## Break a single variable into two with `separate()`

.leftcol40[

```r
tb_rates
```

```
#&gt; # A tibble: 6 x 3
#&gt;   country      year rate             
#&gt; * &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;            
#&gt; 1 Afghanistan  1999 745/19987071     
#&gt; 2 Afghanistan  2000 2666/20595360    
#&gt; 3 Brazil       1999 37737/172006362  
#&gt; 4 Brazil       2000 80488/174504898  
#&gt; 5 China        1999 212258/1272915272
#&gt; 6 China        2000 213766/1280428583
```
]

.rightcol60[

```r
tb_rates %&gt;%
  separate(rate, into = c("cases", "population"),
*          sep = "/")
```

```
#&gt; # A tibble: 6 x 4
#&gt;   country      year cases  population
#&gt;   &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;  &lt;chr&gt;     
#&gt; 1 Afghanistan  1999 745    19987071  
#&gt; 2 Afghanistan  2000 2666   20595360  
#&gt; 3 Brazil       1999 37737  172006362 
#&gt; 4 Brazil       2000 80488  174504898 
#&gt; 5 China        1999 212258 1272915272
#&gt; 6 China        2000 213766 1280428583
```
]

---

## Break a single variable into two with `separate()`

.leftcol40[

```r
tb_rates
```

```
#&gt; # A tibble: 6 x 3
#&gt;   country      year rate             
#&gt; * &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;            
#&gt; 1 Afghanistan  1999 745/19987071     
#&gt; 2 Afghanistan  2000 2666/20595360    
#&gt; 3 Brazil       1999 37737/172006362  
#&gt; 4 Brazil       2000 80488/174504898  
#&gt; 5 China        1999 212258/1272915272
#&gt; 6 China        2000 213766/1280428583
```
]

.rightcol60[

```r
tb_rates %&gt;%
  separate(rate, into = c("cases", "population"),
           sep = "/", 
*          convert = TRUE)
```

```
#&gt; # A tibble: 6 x 4
#&gt;   country      year  cases population
#&gt;   &lt;chr&gt;       &lt;int&gt;  &lt;int&gt;      &lt;int&gt;
#&gt; 1 Afghanistan  1999    745   19987071
#&gt; 2 Afghanistan  2000   2666   20595360
#&gt; 3 Brazil       1999  37737  172006362
#&gt; 4 Brazil       2000  80488  174504898
#&gt; 5 China        1999 212258 1272915272
#&gt; 6 China        2000 213766 1280428583
```
]

---

## You can also break up a variable by an index

.leftcol40[

```r
tb_rates
```

```
#&gt; # A tibble: 6 x 3
#&gt;   country      year rate             
#&gt; * &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;            
#&gt; 1 Afghanistan  1999 745/19987071     
#&gt; 2 Afghanistan  2000 2666/20595360    
#&gt; 3 Brazil       1999 37737/172006362  
#&gt; 4 Brazil       2000 80488/174504898  
#&gt; 5 China        1999 212258/1272915272
#&gt; 6 China        2000 213766/1280428583
```
]

.rightcol60[

```r
tb_rates %&gt;%
* separate(year, into = c("century", "year"),
*          sep = 2)
```

```
#&gt; # A tibble: 6 x 4
#&gt;   country     century year  rate             
#&gt;   &lt;chr&gt;       &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;            
#&gt; 1 Afghanistan 19      99    745/19987071     
#&gt; 2 Afghanistan 20      00    2666/20595360    
#&gt; 3 Brazil      19      99    37737/172006362  
#&gt; 4 Brazil      20      00    80488/174504898  
#&gt; 5 China       19      99    212258/1272915272
#&gt; 6 China       20      00    213766/1280428583
```
]

---

## `unite()`: The opposite of `separate()`

.leftcol40[

```r
tb_rates
```

```
#&gt; # A tibble: 6 x 3
#&gt;   country      year rate             
#&gt; * &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;            
#&gt; 1 Afghanistan  1999 745/19987071     
#&gt; 2 Afghanistan  2000 2666/20595360    
#&gt; 3 Brazil       1999 37737/172006362  
#&gt; 4 Brazil       2000 80488/174504898  
#&gt; 5 China        1999 212258/1272915272
#&gt; 6 China        2000 213766/1280428583
```
]

.rightcol60[

```r
tb_rates %&gt;%
  separate(year, into = c("century", "year"),
           sep = 2) %&gt;%
* unite(year_new, century, year)
```

```
#&gt; # A tibble: 6 x 3
#&gt;   country     year_new rate             
#&gt;   &lt;chr&gt;       &lt;chr&gt;    &lt;chr&gt;            
#&gt; 1 Afghanistan 19_99    745/19987071     
#&gt; 2 Afghanistan 20_00    2666/20595360    
#&gt; 3 Brazil      19_99    37737/172006362  
#&gt; 4 Brazil      20_00    80488/174504898  
#&gt; 5 China       19_99    212258/1272915272
#&gt; 6 China       20_00    213766/1280428583
```
]

---

## `unite()`: The opposite of `separate()`

.leftcol40[

```r
tb_rates
```

```
#&gt; # A tibble: 6 x 3
#&gt;   country      year rate             
#&gt; * &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;            
#&gt; 1 Afghanistan  1999 745/19987071     
#&gt; 2 Afghanistan  2000 2666/20595360    
#&gt; 3 Brazil       1999 37737/172006362  
#&gt; 4 Brazil       2000 80488/174504898  
#&gt; 5 China        1999 212258/1272915272
#&gt; 6 China        2000 213766/1280428583
```
]

.rightcol60[

```r
tb_rates %&gt;%
  separate(year, into = c("century", "year"),
           sep = 2) %&gt;%
  unite(year_new, century, year,
*       sep = "")
```

```
#&gt; # A tibble: 6 x 3
#&gt;   country     year_new rate             
#&gt;   &lt;chr&gt;       &lt;chr&gt;    &lt;chr&gt;            
#&gt; 1 Afghanistan 1999     745/19987071     
#&gt; 2 Afghanistan 2000     2666/20595360    
#&gt; 3 Brazil      1999     37737/172006362  
#&gt; 4 Brazil      2000     80488/174504898  
#&gt; 5 China       1999     212258/1272915272
#&gt; 6 China       2000     213766/1280428583
```
]

---



class: inverse, middle

# Week 9: .fancy[Cleaning Data]

### 1. Merging datasets with joins
### 2. Are your variables the right _type_?
### 3. Are your variables the right _name_?

### BREAK

### 4. Re-coding variables
### 5. .orange[Dates]

---
class: inverse, middle, center

&lt;center&gt;
&lt;img src="images/dates.png" width=600&gt;
&lt;center&gt;

---

### Create dates from strings - **order is the ONLY thing that matters!**

--

.cols3[
.center[Year-Month-Day]

```r
ymd('2020-02-26')
```

```
#&gt; [1] "2020-02-26"
```
]

---

### Create dates from strings - **order is the ONLY thing that matters!**

.cols3[
.center[Year-Month-Day]

```r
ymd('2020-02-26')
```

```
#&gt; [1] "2020-02-26"
```

```r
ymd('2020 Feb 26')
```

```
#&gt; [1] "2020-02-26"
```
]

---

### Create dates from strings - **order is the ONLY thing that matters!**

.cols3[
.center[Year-Month-Day]

```r
ymd('2020-02-26')
```

```
#&gt; [1] "2020-02-26"
```

```r
ymd('2020 Feb 26')
```

```
#&gt; [1] "2020-02-26"
```

```r
ymd('2020 Feb. 26')
```

```
#&gt; [1] "2020-02-26"
```

```r
ymd('2020 february 26')
```

```
#&gt; [1] "2020-02-26"
```
]

--

.cols3[
.center[Month-Day-Year]

```r
mdy('February 26, 2020')
```

```
#&gt; [1] "2020-02-26"
```

```r
mdy('Feb. 26, 2020')
```

```
#&gt; [1] "2020-02-26"
```

```r
mdy('Feb 26 2020')
```

```
#&gt; [1] "2020-02-26"
```
]

--

.cols3[
.center[Day-Month-Year]

```r
dmy('26 February 2020')
```

```
#&gt; [1] "2020-02-26"
```

```r
dmy('26 Feb. 2020')
```

```
#&gt; [1] "2020-02-26"
```

```r
dmy('26 Feb, 2020')
```

```
#&gt; [1] "2020-02-26"
```
]

---
class: center, middle

# Check out the `lubridate` **[cheat sheet](https://rawgit.com/rstudio/cheatsheets/master/lubridate.pdf)**

---

## Extracting information from dates

.code60[

```r
date &lt;- today()
date
```

```
#&gt; [1] "2021-03-09"
```
]

--

.leftcol[.code60[

```r
# Get the year
year(date)
```

```
#&gt; [1] 2021
```
]]

---

## Extracting information from dates

.code60[

```r
date &lt;- today()
date
```

```
#&gt; [1] "2021-03-09"
```
]

.leftcol[.code60[

```r
# Get the year
year(date)
```

```
#&gt; [1] 2021
```

```r
# Get the month
month(date)
```

```
#&gt; [1] 3
```

```r
# Get the month name
month(date, label = TRUE, abbr = FALSE)
```

```
#&gt; [1] March
#&gt; Levels: January &lt; February &lt; March &lt; April &lt; May &lt; June &lt; July &lt; August &lt; September &lt; October &lt; November &lt; December
```
]]

--

.rightcol[.code60[


```r
# Get the day
day(date)
```

```
#&gt; [1] 9
```

```r
# Get the weekday
wday(date)
```

```
#&gt; [1] 3
```

```r
# Get the weekday name
wday(date, label = TRUE, abbr = TRUE)
```

```
#&gt; [1] Tue
#&gt; Levels: Sun &lt; Mon &lt; Tue &lt; Wed &lt; Thu &lt; Fri &lt; Sat
```
]]

---
class: inverse

# Quick practice

On what day of the week were you born?

.leftcol60[

```r
wday("2020-02-26", label = TRUE)
```

```
#&gt; [1] Wed
#&gt; Levels: Sun &lt; Mon &lt; Tue &lt; Wed &lt; Thu &lt; Fri &lt; Sat
```
]

---

## Modifying date elements


```r
date &lt;- today()
date
```

```
#&gt; [1] "2021-03-09"
```

--


```r
# Change the year
year(date) &lt;- 2016
date
```

```
#&gt; [1] "2016-03-09"
```

--


```r
# Change the day
day(date) &lt;- 30
```

--


```r
date
```

```
#&gt; [1] "2016-03-30"
```

---
class: inverse

# Quick practice

What do you think will happen if we do this?


```r
date &lt;- ymd("2021-02-28")
day(date) &lt;- 30
```

--


```r
date
```

```
#&gt; [1] "2021-03-02"
```

---
class: inverse

.leftcol[.font80[
### Your turn

1) Use `case_when()` to modify the `phase_of_flt` variable in the `wildlife_impacts` data:

- The values `'approach'`, `'arrival'`, `'descent'`, and `'landing roll'` should be merged into a single value called `'arrival'`.
- The values `'climb'`, `'departure'`,  and `'take-off run'` should be merged into a single value called `'departure'`.
- All other values should be called `'other'`.

Before:
.code70[

```r
unique(str_to_lower(wildlife_impacts$phase_of_flt))
```

```
#&gt;  [1] "climb"        "landing roll" NA             "approach"     "take-off run" "departure"    "arrival"      "descent"      "local"        "taxi"         "unknown"      "en route"     "parked"
```
After:

```
#&gt; [1] "departure" "arrival"   "other"
```
]]]

--

.rightcol[.font80[
<div class="countdown blink-colon noupdate-15" id="timer_6047a6a2" style="right:0;bottom:0;font-size:1.5em;position: relative; width: min-content;&#10;                   display: block; margin-left: 300px;" data-warnwhen="30">
<code class="countdown-time"><span class="countdown-digits minutes">20</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
</div>

2) Use the **lubridate** package to create a new variable, `weekday_name`, from the `incident_date` variable in the `wildlife_impacts` data.

3) Use `weekday_name` and `phase_of_flt` to make this plot of "arrival" and "departure" impacts from **Mar. 2016**.

&lt;img src="figs/unnamed-chunk-99-1.png" width="648" style="display: block; margin: auto;" /&gt;
]]
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
